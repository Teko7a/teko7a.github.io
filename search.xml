<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>cf793</title>
      <link href="//cf/793/"/>
      <url>//cf/793/</url>
      
        <content type="html"><![CDATA[<div class="info"><blockquote><p>å•Šä¸æ˜¯ï¼Œè¿™æ–­å±‚ä¹Ÿå¤ªææ€–äº†å§ï¼</p></blockquote></div><p><ahref="https://codeforces.com/contest/1682">https://codeforces.com/contest/1682</a></p><h1 id="a.-palindromic-indices">A. Palindromic Indices</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ª <strong>å›æ–‡</strong> ä¸² <spanclass="math inline">\(s\)</span>ï¼Œåˆ å»ä¸€ä¸ªå­—ç¬¦ä¹‹åå…¶ä¾ç„¶å›æ–‡çš„åˆ æ³•æœ‰å¤šå°‘ç§ï¼Ÿ</p><h2 id="è§£ç­”">è§£ç­”</h2><p>å› ä¸ºåˆå§‹å›æ–‡ï¼Œåªéœ€è€ƒè™‘ä¸­å¿ƒæ‰©å±•çš„æ–¹æ³•ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> mid <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> l <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    l <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>mid <span class="token operator">-</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="b.-and-sorting">B. AND Sorting</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ª <span class="math inline">\(0 \sim n - 1\)</span>çš„æ’åˆ—ï¼Œåˆå§‹æ—¶ <strong>ä¸€å®š</strong>æ˜¯æ— åºçš„ã€‚ç»™å‡ºä¸‹è¿°æ’åºæ–¹æ³•ï¼Œé—®å…¶ä¸­çš„ <spanclass="math inline">\(X\)</span> æœ€å¤§æ˜¯å¤šå°‘ï¼š</p><ol type="1"><li>é€‰æ‹©ä¸¤ä¸ªæ•°ï¼Œè®°ä¸º <span class="math inline">\(p_i, p_j\)</span> æ»¡è¶³<span class="math inline">\(p_i \&amp; p_j = X\)</span>ã€‚</li><li>äº¤æ¢ä»–ä»¬ã€‚</li></ol><h2 id="è§£ç­”-1">è§£ç­”</h2><p>åªéœ€è¦è€ƒè™‘é‚£äº›æœªæ’åºå¥½çš„ä½ç½®ã€‚ä¸è¿ç®—å¿…ç„¶ä¸ä¼šå¾—åˆ°æ¯”åŸå…ˆæ›´å¤§çš„æ•°ï¼Œå› æ­¤<span class="math inline">\(X \in [0, n)\)</span>ã€‚å°†è¿™äº›ä½ç½®ä¸Šçš„æ•°æŒ‰ä½ä¸èµ·æ¥å°±æ˜¯ç­”æ¡ˆã€‚</p><div class="info"><blockquote><p>è¯æ˜ä¹Ÿååˆ†ç®€å•ï¼šè€ƒè™‘ <span class="math inline">\(p_i \&amp; p_j =X\)</span> æ—¶äº¤æ¢ç­–ç•¥ï¼š<span class="math inline">\(\mathrm{swap}(p_i, X)\rightarrow \mathrm{swap}(p_i, p_j) \rightarrow \mathrm{swap}(p_j,X)\)</span>ã€‚</p></blockquote></div><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> p <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      p <span class="token operator">&amp;=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="c.-lis-or-reverse-lis">C. LIS or Reverse LIS?</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šåºåˆ— <spanclass="math inline">\(\{S\}\)</span>ï¼Œä½ å¯ä»¥éšæ„å®‰æ’å…¶é¡ºåºï¼Œé—®æœ€å¤§çš„<span class="math inline">\(\min(\mathrm{LIS},\mathrm{LIS}_{rev})\)</span> æ˜¯å¤šå°‘ï¼Ÿ</p><p>å…¶ä¸­ <span class="math inline">\(\rm LIS\)</span> æŒ‡çš„æ˜¯<strong>æœ€é•¿ä¸¥æ ¼ä¸Šå‡å­åºåˆ—é•¿åº¦</strong>ï¼Œè€Œ <spanclass="math inline">\(\mathrm{LIS}_{\_rev}\)</span> æŒ‡å…¶ååºåˆ—ã€‚</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p>æˆ‘ä»¬ç†ŸçŸ¥ <span class="math inline">\(\mathrm {LIS}_{rev} =\mathrm{LDS}\)</span> â€”â€” æœ€é•¿ä¸¥æ ¼ä¸‹é™å­åºåˆ—é•¿åº¦ã€‚</p><p>æœ¬é¢˜è¦æ±‚ <strong>ä¸¥æ ¼</strong>ï¼Œå› è€Œå‡ºç°æ¬¡æ•°è¶…è¿‡ <spanclass="math inline">\(1\)</span> æ¬¡çš„éƒ½å¯å½“ä½œå‡ºç°äº† <spanclass="math inline">\(2\)</span> æ¬¡ã€‚æˆ‘ä»¬å¸Œæœ›æ›´å¤šçš„æ•°èƒ½å¤ŸåŒæ—¶å‡ºç°åœ¨<span class="math inline">\(\rm LIS\)</span> ä¸ <spanclass="math inline">\(\rm LDS\)</span> ä¸­ï¼Œè¿™äº›ç‚¹å½“ç„¶æ˜¯åœ¨åŸåºåˆ—ä¸­å‡ºç°<strong>å¤šæ¬¡</strong> çš„é‚£äº›æ•°ï¼Œè®°ä¸º <spanclass="math inline">\(x\)</span> ä¸ªã€‚</p><p>å‰©ä¸‹çš„é‚£äº›ä»…å‡ºç°ä¸€æ¬¡çš„å…ƒç´ åªèƒ½å¹³å‡åˆ†é…åˆ° <spanclass="math inline">\(\rm LIS\)</span> ä¸ <spanclass="math inline">\(\rm LDS\)</span> ä¸­äº†ï¼Œè®°ä¸º <spanclass="math inline">\(y\)</span> ä¸ªã€‚ç‰¹åˆ«æ³¨æ„å½“ <spanclass="math inline">\(y\)</span>ä¸ºå¥‡æ•°æ—¶ï¼Œæœ€å¤§å€¼å¯ä»¥åŒæ—¶è´¡çŒ®åˆ°ä¸¤ä¸ªåºåˆ—ä¸­äºæ˜¯æœ€ç»ˆè´¡çŒ®ä¸º <spanclass="math inline">\(\Big\lceil \dfrac{y}{2} \Big\rceil +x\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> custom_hash<span class="token operator">></span> mp<span class="token punctuation">;</span>  <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    mp<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token operator">:</span> mp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    cnt <span class="token operator">+=</span> v <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span> cnt <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> mp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token operator">--</span> cnt <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="d.-circular-spanning-tree">D. Circular Spanning Tree</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç¯ä¸Šæœ‰ <span class="math inline">\(n\)</span> ä¸ªç‚¹ï¼Œé¡ºæ—¶é’ˆåˆ†åˆ«ä¸º<span class="math inline">\(1, 2, \cdots, n\)</span>ï¼Œç»™å®šä¸€ä¸ªåºåˆ— <spanclass="math inline">\(s\)</span>ã€‚</p><p>è¦æ±‚å°†è¿™ <span class="math inline">\(n\)</span> ä¸ªç‚¹è¿ä¸ºä¸€æ£µæ ‘ï¼Œä¸”<span class="math inline">\(\delta_i \equiv s_i \pmod2\)</span>ã€‚åŒæ—¶è¦æ±‚ <strong>è¿™äº›è¾¹</strong> é™¤ç«¯ç‚¹å¤–ä¸èƒ½æœ‰äº¤ã€‚</p><figure><img src="/images/cf/cf793d.png" title="å‰è€…ä¸åˆæ³•ï¼Œè€Œåè€…å¯è¡Œ"alt="å¦‚å›¾æ‰€ç¤º" /><figcaption aria-hidden="true">å¦‚å›¾æ‰€ç¤º</figcaption></figure><div class="danger"><blockquote><p><span class="math inline">\(n \in [2, 2 \times 10 ^ 5]\)</span></p></blockquote></div><h2 id="è§£ç­”-3">è§£ç­”</h2><div class="warning"><blockquote><p>æˆ‘è¶£ï¼Œè¿™é¢˜å†™äº†å¥½ä¹…å•Š ğŸ˜­ã€‚èµ›åçœ‹å„ä½å¤§ç¥çš„ä»£ç å‘ç°è‡ªå·±å†™çš„å¥½å¤æ‚ã€‚</p></blockquote></div><p>å› ä¸º <span class="math inline">\(n \ge2\)</span>ï¼Œæ‰€ä»¥è¿™æ£µæ ‘ä¸€å®šæœ‰è¶…è¿‡ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„åº¦å‡ä¸ºå¥‡æ•°ï¼Œå³ <spanclass="math inline">\(\displaystyle \sum_{i = 1} ^ n s_i \gt0\)</span>ã€‚</p><div class="info"><blockquote><p>æ³¨æ„åˆ° <span class="math inline">\(n = 1\)</span>æ—¶åˆ™ä¸éœ€è¦æ­¤é™åˆ¶ã€‚</p></blockquote></div><p>å¦ä¸€é™åˆ¶ä¸º <span class="math inline">\(\displaystyle\sum_{i = 1}^ns_i \equiv 0 \pmod 2\)</span>ï¼Œè¿™æ˜¯å› ä¸º <spanclass="math inline">\(s_i\)</span>é™åˆ¶çš„æ˜¯æŸèŠ‚ç‚¹çš„åº¦ä¹‹å¥‡å¶ï¼Œè€Œä¸€æ£µæ ‘çš„å…¥åº¦ä¸å‡ºåº¦æ˜¾ç„¶æ˜¯ä¸€æ ·çš„ã€‚</p><p>æ¥ä¸‹æ¥çš„æ„é€ ååˆ†å®¹æ˜“ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‰€æœ‰çš„ <spanclass="math inline">\(00\cdots001\)</span> è¿æˆ <spanclass="math inline">\(\langle\leftarrow 0 - 0 - \cdots - 0 - 0 -1\rangle\)</span> éšåå†å°†æ‰€æœ‰çš„ <span class="math inline">\(\leftarrow0\)</span> è¿èµ·æ¥å°±å¯ä»¥äº†ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> o <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">count</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>o <span class="token operator">||</span> o <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"NO\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">,</span> chain<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> pos <span class="token operator">=</span> i<span class="token punctuation">;</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">(</span>pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> n<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> nxt <span class="token operator">=</span> <span class="token punctuation">(</span>pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> n<span class="token punctuation">;</span>        ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> nxt<span class="token punctuation">)</span><span class="token punctuation">;</span>        pos <span class="token operator">=</span> nxt<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      chain<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> chain<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ans<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>chain<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">,</span> chain<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES\n"</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>s<span class="token punctuation">,</span> e<span class="token punctuation">]</span> <span class="token operator">:</span> ans<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> e <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="e.-unordered-swaps">E. Unordered Swaps</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>æ‡’å¾—å†™äº†ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    <span class="token operator">--</span>i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">auto</span> g <span class="token operator">=</span> <span class="token generic-function"><span class="token function">multivector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> id<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> u <span class="token operator">>></span> v<span class="token punctuation">;</span>    <span class="token operator">--</span>u<span class="token punctuation">,</span> <span class="token operator">--</span>v<span class="token punctuation">;</span>    g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    g<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>    id<span class="token punctuation">[</span><span class="token punctuation">&#123;</span>u<span class="token punctuation">,</span> v<span class="token punctuation">&#125;</span><span class="token punctuation">]</span> <span class="token operator">=</span> id<span class="token punctuation">[</span><span class="token punctuation">&#123;</span>v<span class="token punctuation">,</span> u<span class="token punctuation">&#125;</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ord</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">~</span>ord<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">continue</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> a<span class="token punctuation">;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> i<span class="token punctuation">;</span> ord<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> y <span class="token operator">=</span> p<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      ord<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token operator">++</span><span class="token punctuation">;</span>      a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">MOD</span><span class="token expression"><span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token punctuation">(</span>X <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> k</span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">MOD</span><span class="token punctuation">(</span>ord<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> ord<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">MOD</span><span class="token punctuation">(</span>ord<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> ord<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">cur</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">auto</span> check <span class="token operator">=</span> <span class="token function">y_combinator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> check<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> y <span class="token operator">=</span> g<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>cur<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>g<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>cur<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> id<span class="token punctuation">[</span><span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> y<span class="token punctuation">&#125;</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    cur<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">,</span> cur<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">check</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">check</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcalO(&lt;++&gt;)\)</span></p></blockquote><h1 id="f.-mcmf">F. MCMF?</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-5">è§£ç­”</h2><p>è´ªå¿ƒã€‚</p><details><summary>å±•å¼€ä»£ç </summary><p>&lt;++&gt;</p></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcalO(&lt;++&gt;)\)</span></p></blockquote><blockquote><p>Bonus: &lt;++&gt;</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> constructive </tag>
            
            <tag> bitwise </tag>
            
            <tag> palindrome </tag>
            
            <tag> lis </tag>
            
            <tag> flow </tag>
            
            <tag> mcmf </tag>
            
            <tag> topo-sort </tag>
            
            <tag> fenwick </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf702</title>
      <link href="//cf/702/"/>
      <url>//cf/702/</url>
      
        <content type="html"><![CDATA[<div class="primary"><blockquote><p>è¿™åœºæ¯”è¾ƒç®€å•ï¼Œä½†é€šè¿‡æœ¬åœºæˆ‘å­¦åˆ°äº†ç¬›å¡å°”æ ‘ã€‚ qwq</p></blockquote></div><p><ahref="https://codeforces.com/contest/1490">https://codeforces.com/contest/1490</a></p><h1 id="a.-dense-array">A. Dense Array</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>å¸Œæœ›å¯¹äºä»»ä¸¤ç›¸é‚»å…ƒç´ éƒ½æœ‰ï¼š</p><p><span class="math display">\[\dfrac{\max}{\min} \le 2\]</span></p><p>åœ¨ç»™å®šçš„æ•°ç»„ä¸­ <strong>æ’å…¥</strong> æœ€å°‘çš„æ•°ä»¥æ»¡è¶³ä¸Šè¿°æ¡ä»¶ã€‚</p><div class="danger"><blockquote><p><span class="math inline">\(n, a_i \le 50\)</span></p></blockquote></div><h2 id="è§£ç­”">è§£ç­”</h2><p>æ•°æ®é‡éå¸¸å°ï¼Œç›´æ¥æ¨¡æ‹Ÿå³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> M <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>M <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">*</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      m <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>      cnt <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> cnt <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n + \logn)\)</span></p></blockquote><div class="gray"><blockquote><p><span class="math inline">\(\log{\dfrac{a_2}{a_1}} +\log{\dfrac{a_3}{a_2}} + \log{\dfrac{a_4}{a_3}} + \cdots +\log{\dfrac{a_n}{a_{n - 1}}} = \log{\dfrac{a_n}{a_1}} \sim\log{n}\)</span></p></blockquote></div><h1 id="b.-balanced-remainders">B. Balanced Remainders</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ç»™å®š <span class="math inline">\(n\)</span> ï¼ˆå…¶ä¸­ <spanclass="math inline">\(3 \mid n\)</span>ï¼‰ä¸ªæ•°ï¼Œè®°æ“ä½œä¸ºé€‰æ‹©ä¸€ä¸ªæ•°å¹¶ä½¿å…¶è‡ªå¢ <spanclass="math inline">\(1\)</span>ï¼Œé—®ä½¿å¾—æ¨¡ <spanclass="math inline">\(3\)</span> æ„ä¹‰ä¸‹ <spanclass="math inline">\(cnt_0 = cnt_1 = cnt_2\)</span>çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="è§£ç­”-1">è§£ç­”</h2><p>æ˜“çŸ¥æœ€ç»ˆçš„ <span class="math inline">\(cnt_x =\dfrac{n}{3}\)</span>ï¼ŒåŠ ä¸€å°†ä½¿å¾— <span class="math inline">\(0\rightarrow 1 \rightarrow 2 \rightarrow0\)</span>ï¼Œç›´æ¥è´ªå¿ƒåœ°æ“ä½œå…¶ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚</p><div class="gray"><blockquote><p>è¯æ˜ï¼šåªéœ€è¯´æ˜è¿™æ ·æ“ä½œä¸ä¼šæ¯”æ“ä½œéæœ€å¤§å€¼çš„ä»£ä»·æ›´åŠ£ï¼Œè€Œè¿™ä¸€ç‚¹æ˜¾ç„¶ã€‚</p></blockquote></div><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">></span> cnt<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    cnt<span class="token punctuation">[</span>x <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> m <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>cnt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    i <span class="token operator">-=</span> m<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b <span class="token operator">&amp;&amp;</span> b <span class="token operator">==</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ans <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> M <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      a <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      b <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> c <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      c <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> a <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><div class="gray"><blockquote><p>æ³¨æ„åˆ°æœ€åæƒ…å†µä¸‹ï¼Œæ­¤å¾ªç¯ä¼šæ‰§è¡Œ <span class="math inline">\(n\)</span>æ¬¡ï¼Œæ„é€  <span class="math inline">\(\langle\underbrace{2, 2,\cdots,2}_{length\; is\; n}\rangle\)</span>ã€‚</p><p>ä½¿ç”¨åŠ¿èƒ½åˆ†æçš„æ€æƒ³ï¼Œæ¯ä¸ªå…ƒç´ çš„å˜åŒ–å°ºåº¦å¯ä»¥ä»åˆæœ«æ€ç›´æ¥å¾—å‡ºï¼Œå³ <spanclass="math inline">\(n\)</span>ã€‚</p></blockquote></div><h1 id="c.-sum-of-cubes">C. Sum of Cubes</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æ˜¯å¦æœ‰ä¸€ç§åˆ†è§£ï¼Œä½¿å¾—ç»™å®šçš„ <span class="math inline">\(n = a^3 +b^3\)</span> ?</p><div class="danger"><blockquote><p><span class="math inline">\(x \le 10^{12}\)</span></p></blockquote></div><h2 id="è§£ç­”-2">è§£ç­”</h2><p>æ­¤å³ <a href="https://leetcode.com/problems/two-sum/"title="éå¸¸ç®€å•ï¼Œæ¬¢è¿çˆ†åˆ‡">leetcode ç¬¬ä¸€é¢˜ï¼šä¸¤æ•°ä¹‹å’Œ</a>ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å­˜ä¸‹<span class="math inline">\(\le 10 ^ 4\)</span>çš„ç«‹æ–¹æ•°ï¼Œéšåæšä¸¾æŸ¥è¯¢å“ˆå¸Œè¡¨ä¸­ <span class="math inline">\(n -x^3\)</span> æ˜¯å¦å­˜åœ¨å³å¯è§£å†³æœ¬é¢˜ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span>i64<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token punctuation">,</span> custom_hash<span class="token operator">></span> mp<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  mp<span class="token punctuation">[</span><span class="token number">1LL</span> <span class="token operator">*</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> tt<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> tt<span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>tt<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    i64 n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      i64 cur <span class="token operator">=</span> <span class="token number">1LL</span> <span class="token operator">*</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mp<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>n <span class="token operator">-</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"NO\n"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n + {}^3\sqrt{10 ^{12}})\)</span></p></blockquote><h1 id="d.-permutation-transformation">D. PermutationTransformation</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>æŸäºŒå‰æ ‘ä»»æ„å­æ ‘æ ¹èŠ‚ç‚¹æƒå€¼æ¯”å…¶ä»–èŠ‚ç‚¹æƒå€¼éƒ½å¤§ï¼ˆå †ï¼‰ã€‚</p><p>æ ¹æ®ç»™å®š<strong>æ’åˆ—</strong>æ„é€ è¯¥æ ‘ï¼Œè®¾è¯¥æ•°çš„æ ¹å¯¹åº”åºåˆ—ä¸­ <spanclass="math inline">\(x\)</span> çš„ä½ç½®ã€‚è¦æ±‚æ»¡è¶³ä¸Šè¿°è¦æ±‚çš„æƒ…å†µä¸‹ <spanclass="math inline">\(x\)</span> çš„å·¦å­æ ‘åŒ…å« <spanclass="math inline">\(x\)</span>å·¦åŒºé—´ä¸­æ‰€æœ‰æ•°ï¼Œå³å­æ ‘åŒ…å«å³åŒºé—´ä¸­çš„æ‰€æœ‰æ•°ï¼ˆäºŒå‰æœç´¢æ ‘ï¼‰ã€‚</p><p>è¾“å‡ºåºåˆ—ä¸­æ¯ä¸€ä¸ªæ•°å¯¹åº”èŠ‚ç‚¹çš„æ·±åº¦ã€‚</p><h2 id="è§£ç­”-1-1">è§£ç­” 1</h2><p>ä¸€ä¸ªæœ´ç´ çš„æƒ³æ³•æ˜¯ï¼Œç›´æ¥<code>DFS</code>ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾å‡ºåŒºé—´æœ€å¤§å€¼ï¼Œå°†å…¶ä½œä¸ºæ ¹å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">tree</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">y_combinator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> dfs<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> d<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> u <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max_element</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> l<span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> u <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>u <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> tree<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n ^ 2)\)</span></p></blockquote><div class="info"><blockquote><p>ä½¿ç”¨ <code>ST</code> / <code>Segment tree</code>ç­‰æŠ€å·§å¯»æ‰¾æœ€å€¼è¿™ä¸€æ­¥ï¼Œå¯ä»¥ä¼˜åŒ–è‡³ <span class="math inline">\(\mathcal O(n \log n)\)</span></p></blockquote></div><h2 id="è§£ç­”-2-1">è§£ç­” 2</h2><p>æ³¨æ„åˆ°æ­¤å®šä¹‰å³ã€Œç¬›å¡å°”ã€ æ ‘ï¼ˆCartesian treeï¼‰ã€‚</p><p>äºæ˜¯å¥—ç”¨ä¸€ä¸‹å•è°ƒæ ˆçº¿æ€§å»ºæ ‘çš„æ¨¡æ¿ï¼Œå† <code>DFS</code> å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> id<span class="token punctuation">,</span> val<span class="token punctuation">,</span> p<span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> _id<span class="token punctuation">,</span> <span class="token keyword">int</span> _val<span class="token punctuation">,</span> <span class="token keyword">int</span> _p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    id <span class="token operator">=</span> _id<span class="token punctuation">,</span> val <span class="token operator">=</span> _val<span class="token punctuation">,</span> p <span class="token operator">=</span> _p<span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">Cmp</span><span class="token operator">></span><span class="token keyword">int</span> <span class="token function">cartesian_build</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span> <span class="token operator">&amp;</span>tree<span class="token punctuation">,</span>    <span class="token keyword">const</span> Cmp <span class="token operator">&amp;&amp;</span>cmp <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">less</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n <span class="token operator">=</span> tree<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      k <span class="token operator">=</span> tree<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>p<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> tree<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>p <span class="token operator">=</span> k<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>p <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> tree<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span> <span class="token function">tree</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  tree<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> INT_MAX<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> root <span class="token operator">=</span> <span class="token function">cartesian_build</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">greater</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">d</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">y_combinator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> dfs<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        d<span class="token punctuation">[</span>tree<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>tree<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span>i <span class="token operator">==</span> n<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="e.-accidental-victory">E. Accidental Victory</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p><span class="math inline">\(n\)</span>äººæ¯”èµ›ï¼Œæ¯ä½é€‰æ‰‹éƒ½æœ‰ä¸€äº›æ¸¸æˆå¸ã€‚åœ¨ <span class="math inline">\(n -1\)</span> åœº <span class="math inline">\(1V1\)</span>æ¯”èµ›ä¸­ï¼Œæ‹¥æœ‰æ¸¸æˆå¸æ›´å¤šçš„é€‰æ‰‹å–èƒœï¼Œå¹¶è·å¾—è¾“å®¶çš„å…¨éƒ¨æ¸¸æˆå¸ã€‚ç‰¹æ®Šçš„ï¼Œå¦‚æœä¸¤ç§æ‹¥æœ‰ç›¸åŒçš„æ¸¸æˆå¸ï¼Œé‚£ä¹ˆå–èƒœçœ‹å¤©ï¼ˆéšæœºå†³å‡ºèƒœè€…ï¼‰ã€‚</p><p>é—®å¯èƒ½æœ‰å¤šå°‘é€‰æ‰‹æˆä¸ºæœ€ç»ˆçš„èµ¢å®¶ï¼Ÿ</p><div class="gray"><blockquote><p>æ³¨æ„ï¼ŒåŸé¢˜é¢ä¸­å¹¶éã€Œæ¸¸æˆå¸ã€ï¼Œè€Œæ˜¯<code>tokens</code>ã€‚çœŸä¸çŸ¥é“å’‹ç¿»è¯‘æ¯”è¾ƒåˆé€‚ï¼Œäºæ˜¯å°±å–ã€Œä»£å¸ã€ ä¹‹æ„äº†ã€‚</p></blockquote></div><h2 id="è§£ç­”-3">è§£ç­”</h2><p>è€ƒè™‘ <span class="math inline">\(x\)</span>å°†ä¼šæˆä¸ºæœ€ç»ˆçš„èµ¢å®¶ï¼Œå¹¶å…ˆé€ä¸ªå‡»ç ´æ¯”ä»–å°çš„é€‰æ‰‹ï¼Œéšåå‘å³æ‹“å±•ï¼Œåªè¦èƒ½å¤Ÿèµ¢ä¸‹æœ€åä¸€ä¸ªäººå°±èƒ½å¤Ÿæˆä¸ºèµ¢å®¶ã€‚ç‰¹æ®Šçš„ï¼Œå¦‚æœå½“å‰æ‹¥æœ‰çš„æ¸¸æˆå¸ä¸å¯¹æ‰‹ç›¸åŒï¼Œæˆ‘ä»¬éƒ½è§†ä½œ<span class="math inline">\(x\)</span> ä¼šèµ¢ï¼ˆè¿™æ ·çš„å‡è®¾æ˜¯å¿…è¦çš„ï¼‰ã€‚</p><p>æ³¨æ„åˆ°å¦‚æœ <span class="math inline">\(x\)</span>èƒ½æˆä¸ºèµ¢å®¶ï¼Œé‚£ä¹ˆä½¿ç”¨æ­¤ç­–ç•¥ <span class="math inline">\(x + 1\)</span>ä¹Ÿèƒ½æˆä¸ºèµ¢å®¶ï¼ˆè¦ä¿è¯è¿™ä¸€ç‚¹å§‹ç»ˆæˆç«‹ï¼Œéœ€è¦æå‰æ’åºï¼‰ã€‚æ­¤å³äºŒåˆ†ç­”æ¡ˆåŸºæœ¬é—®é¢˜ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span>i64<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>    a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> n<span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> check <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      i64 cur <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        cur <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> m<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        cur <span class="token operator">+=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>check<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      r <span class="token operator">=</span> m<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      l <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> ans<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \logn)\)</span></p></blockquote><div class="info"><blockquote><p>Bonus: å…¶å®è¦è·å¾—ç­”æ¡ˆæ— éœ€äºŒåˆ†ï¼Œä»åå¾€å‰éå†ï¼Œæ¯”è¾ƒå‰ç¼€å’Œä¸ <spanclass="math inline">\(x\)</span> çš„ç›¸å¯¹å¤§å°ä¹Ÿå¯ç›´æ¥å¾—å‡ºå“ªäº›å¯è¡Œã€‚</p></blockquote><blockquote><p>å¤æ‚åº¦ä¸Šæ²¡æœ‰å¤ªå¤§çš„å½±å“ã€‚</p></blockquote></div><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans <span class="token punctuation">&#123;</span> a<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> index <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> prefixSum<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">>=</span> a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ...</span></code></pre></details><h1 id="f.-equalize-the-array">F. Equalize the Array</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>åœ¨ç»™å®šçš„æ•°ç»„ä¸­åˆ å»è‡³å°‘å‡ ä¸ªå…ƒç´ ï¼Œèƒ½ä½¿å¾—å‰©ä¸‹çš„å…ƒç´ éƒ½å‡ºç° <spanclass="math inline">\(x\)</span> æ¬¡ï¼Ÿ</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>ä¸å¦¨è€ƒè™‘æœ€ç»ˆæœ€å¤šå‰©ä¸‹å‡ ä¸ªå…ƒç´ ï¼Œç­”æ¡ˆå°±æ˜¯ <span class="math inline">\(n-\)</span> å‰©ä¸‹çš„ã€‚</p><p>ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°ï¼Œå¹¶å¯¹æ¬¡æ•°é™åºæ’åºï¼Œéšåæ±‚è§£æœ€å¤§å­çŸ©å½¢ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œåœ¨æœ‰åºæ•°ç»„ä¸Šåšæœ€å¤§å­çŸ©å½¢æ˜¯å®¹æ˜“çš„ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> custom_hash<span class="token operator">></span> mp<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    mp<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> a<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token operator">:</span> mp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">-</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \logn)\)</span></p></blockquote><h1 id="g.-old-floppy-drive">G. Old Floppy Drive</h1><h2 id="é¢˜æ„-6">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼ˆå‘¨æœŸä¸º <spanclass="math inline">\(n\)</span>ï¼‰ï¼Œæ¥ä¸‹æ¥è¿›è¡Œ <spanclass="math inline">\(q\)</span> æ¬¡è¯¢é—®é¦–ä¸ªå‰ç¼€å’Œ <spanclass="math inline">\(\ge x\)</span> çš„ä½ç½®ã€‚</p><p>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä½ç½®ï¼Œè¾“å‡º <spanclass="math inline">\(-1\)</span>ã€‚</p><div class="danger"><blockquote><p><span class="math inline">\(a_i \in [-10 ^ 9, 10 ^9]\)</span>ï¼Œæ³¨æ„å¼€ <code>long long</code>.</p></blockquote></div><h2 id="è§£ç­”-5">è§£ç­”</h2><p>å¾ˆæ˜æ˜¾éœ€è¦äºŒåˆ†æŸ¥æ‰¾ã€‚ä½†æ³¨æ„åˆ°æœ‰è´Ÿæ•°ï¼Œè¦è¿›è¡ŒäºŒåˆ†ï¼Œéœ€è¦ä¿è¯æœ‰åºï¼Œè¿™è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥é€‰æ‹©åªç»´æŠ¤é‚£äº›å‰ç¼€å’Œé€’å¢çš„ç‚¹ï¼ŒåŒæ—¶è®°ä¸‹æ•´ä¸ªæ•°ç»„çš„å’Œ <spanclass="math inline">\(s\)</span>ã€‚</p><blockquote><p><span class="math inline">\(p_{\{-1, 0\}}\)</span> æ˜¯ <spanclass="math inline">\(p\)</span> æ•°ç»„æœ«å°¾å…ƒç´ çš„ç¬¬ä¸€ç»´çš„å€¼ã€‚</p></blockquote><p>å¦‚æœ <span class="math inline">\(s \le 0\)</span>ï¼Œä¸”è¯¢é—®çš„ <spanclass="math inline">\(x \gt p_{\{-1, 0\}}\)</span>æ˜¯æ— è§£çš„ï¼Œå› ä¸ºåœ¨å¾ªç¯å‡ åœˆä¹‹åï¼Œå‰ç¼€å’Œåªä¼šå˜å¾—æ›´å°ã€‚</p><p>å¦åˆ™ <span class="math inline">\(x \le p_{\{-1,0\}}\)</span>ï¼Œå¯ä»¥ç›´æ¥ <code>lower_bound</code> æŸ¥æ‰¾è¿™ä¸ªå€¼ã€‚</p><p>å¦å¤–çš„æƒ…å†µå°±æ˜¯ <span class="math inline">\(s \gt0\)</span>ï¼Œè¿™ç§æ—¶å€™éœ€è¦å…ˆå‡å»å·²ç»è·‘äº†å¤šå°‘åœˆï¼Œå³ï¼š</p><p><span class="math display">\[\Bigg\lceil \dfrac{x - b}{s} \Bigg\rceil\]</span></p><p>å† <code>lower_bound</code> <span class="math inline">\(x - r \timess\)</span> å¾—åˆ°ä½ç½® <span class="math inline">\(pos\)</span>ï¼Œå†åŠ ä¸Š<span class="math inline">\(r \times n\)</span> å°±æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆäº†ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> q<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> q<span class="token punctuation">;</span>  i64 s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span>i64<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> p<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    s <span class="token operator">+=</span> x<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i <span class="token operator">||</span> s <span class="token operator">></span> p<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      p<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span>i64 x<span class="token punctuation">;</span> q <span class="token operator">--</span><span class="token punctuation">;</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span><span class="token operator">!</span>q<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    <span class="token keyword">auto</span> <span class="token operator">&amp;</span>b <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1"</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>pair<span class="token punctuation">&#123;</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">-></span>second<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">CEIL</span><span class="token expression"><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> b</span></span>      i64 r <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0LL</span><span class="token punctuation">,</span> <span class="token function">CEIL</span><span class="token punctuation">(</span>x <span class="token operator">-</span> b<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>pair<span class="token punctuation">&#123;</span>x <span class="token operator">-</span> r <span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token operator">-></span>second <span class="token operator">+</span> r <span class="token operator">*</span> n<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n + q \logn)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dfs </tag>
            
            <tag> binary search </tag>
            
            <tag> Cartesian tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf701</title>
      <link href="//cf/701/"/>
      <url>//cf/701/</url>
      
        <content type="html"><![CDATA[<p class="note note-secondary">è¿™åœºåœ¨å¤§ä¸€æŸæ¬¡å‘¨èµ›è®­ç»ƒæ—¶å­¦é•¿ç»™ç”¨è¿‡ï¼Œå½“æ—¶èœçš„ä¸€ç¬”ï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿæ˜¯ï¼‰ï¼Œä¸è¿‡çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„(^O^)ã€‚</p><p><ahref="https://codeforces.com/contest/1485">https://codeforces.com/contest/1485</a></p><h1 id="a.-add-and-divide">A. Add and Divide</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®š <span class="math inline">\(a,b\)</span>ï¼Œä½ å¯å¯¹å…¶è¿›è¡Œå¦‚ä¸‹ä¸¤ç§æ“ä½œï¼š</p><ul><li><code>a /= b</code> (å‘ä¸‹å–æ•´)</li><li><code>b += 1</code></li></ul><p>é—®ä½¿å¾— <span class="math inline">\(a = 0\)</span>çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="è§£ç­”">è§£ç­”</h2><p>æ³¨æ„åˆ°ç¬¬ä¸€ç§æ“ä½œä¸‹é™çš„éå¸¸å¿«ï¼Œ<strong>å› æ­¤ä¸€å®šæ˜¯å…ˆæ‰§è¡Œç¬¬äºŒç§æ“ä½œè‹¥å¹²æ¬¡ï¼Œå†æ‰§è¡Œç¬¬ä¸€ç§æ“ä½œè‹¥å¹²æ¬¡</strong>ã€‚</p><p>åŒæ—¶å› ä¸ºæ•°æ®èŒƒå›´åªæœ‰ <span class="math inline">\(2 ^ {30}\)</span>,æ‰€ä»¥æ“ä½œæ¬¡æ•°ä¸ä¼šå¤ªå¤§ã€‚æ•…è€Œæšä¸¾ç¬¬äºŒç§æ“ä½œè¿›è¡Œäº†å¤šå°‘æ¬¡ï¼Œå†è¿›è¡Œæ¨¡æ‹Ÿå³å¯ã€‚</p><details><summary>å‚è€ƒä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a <span class="token operator">>></span> b<span class="token punctuation">;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1E9</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">+</span> i <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> res <span class="token operator">=</span> i<span class="token punctuation">,</span> x <span class="token operator">=</span> a<span class="token punctuation">;</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        x <span class="token operator">/=</span> b <span class="token operator">+</span> i<span class="token punctuation">;</span>        res <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(\log^2a)\)</span></p></blockquote><h1 id="b.-replace-and-keep-sorted">B. Replace and Keep Sorted</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ª <strong>é€’å¢</strong> åºåˆ— <spanclass="math inline">\(\{a\}\)</span>ï¼ˆå…ƒç´  <spanclass="math inline">\(\in [1, k]\)</span>ï¼Œä¸”<strong>äº’ä¸ç›¸åŒ</strong>ï¼‰ï¼Œå¹¶åŒæ—¶å®šä¹‰<strong>é•¿åº¦ç›¸åŒ</strong>çš„åºåˆ—ã€Œ<spanclass="math inline">\(k\)</span>-ç›¸ä¼¼ã€å½“ä¸”ä»…å½“ä»…æœ‰ä¸€ä¸ªå…ƒç´ ä¸åŒã€é€’å¢ã€å€¼åŸŸåœ¨<span class="math inline">\(1 \sim k\)</span>ã€‚</p><p>è¯¢é—® <span class="math inline">\(q\)</span> æ¬¡ï¼Œ<spanclass="math inline">\(a[l..r]\)</span> æœ‰å¤šå°‘ä¸ªä¸ä¹‹ã€Œ<spanclass="math inline">\(k\)</span>-ç›¸ä¼¼ã€çš„åºåˆ—ï¼ˆæ³¨æ„è¿™ä¸ªæ–°åºåˆ—æ— éœ€åœ¨<span class="math inline">\(\{a\}\)</span> ä¸­ï¼‰ã€‚</p><h2 id="è§£ç­”-1">è§£ç­”</h2><p>å…ƒç´ äº’å¼‚ã€é€’å¢ã€å€¼åŸŸ <span class="math inline">\(1 \sim k\)</span>çš„é™åˆ¶ä½¿å¾—æ­¤é¢˜çš„éš¾åº¦å¤§å‡ã€‚</p><p>ä¸å¦¨ä»å€¼åŸŸè€ƒè™‘ï¼Œå¯¹äºå½“å‰è€ƒè™‘çš„æ®µ <spanclass="math inline">\(a[l..r]\)</span>ï¼š</p><ol type="1"><li>è‹¥è¦ç”¨ <span class="math inline">\(&lt; a_l\)</span> æˆ– <spanclass="math inline">\(&gt; a_r\)</span>çš„å…ƒç´ æ›¿æ¢æ‰ç«¯ç‚¹æ»¡è¶³é¢˜æ„ï¼Œé‚£ä¹ˆå¯ä»¥æœ‰ <span class="math inline">\((a_l -1) + (k - a_r)\)</span> ç§æ–¹æ¡ˆã€‚</li><li>è€Œå¦‚æœæƒ³è¦æ›¿æ¢æ‰å…¶ä¸­ä¸€ä¸ª <spanclass="math inline">\(a_i\)</span>ï¼Œåˆ™å¯ä»¥ä¸Šè°ƒæˆ–è€…ä¸‹è°ƒè¯¥å…ƒç´ ï¼ˆç›´åˆ°ä¸ä¸å…¶ä»–å…ƒç´ ç›¸åŒï¼‰ï¼Œè¿™æ ·çš„æ“ä½œæœ‰<span class="math inline">\(2 \times [a_r - a_l + 1 - (r - l +1)]\)</span>ã€‚</li></ol><p>äºæ˜¯ç­”æ¡ˆä¸º</p><p><span class="math inline">\(\begin{aligned} &amp;a_l - 1 + k - a_r +2a_r - 2a_l + 2 - 2r + 2l - 2 \\=\;&amp; a_r - a_l + k - 2(r - l + 1) +1\end{aligned}\)</span></p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> ans<span class="token punctuation">;</span> q<span class="token operator">--</span><span class="token punctuation">;</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> l <span class="token operator">>></span> r<span class="token punctuation">;</span>  l <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  ans <span class="token operator">=</span> a<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span> a<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+</span> k <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n + q)\)</span></p></blockquote><h1 id="c.-floor-and-mod">C. Floor and Mod</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æœ‰å¤šå°‘äºŒå…ƒç»„ <span class="math inline">\(\langle a, b\rangle\)</span> ä½¿å¾— <span class="math inline">\(\lfloor \dfrac{a}{b}\rfloor = a \bmod b\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(a \in [1,x], b \in [1, y]\)</span> ?</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p>ä¸€ä¸ªç»å…¸ç»“è®ºæ˜¯ <span class="math inline">\(\lfloor \dfrac{a}{b}\rfloor = a \bmod b \le \sqrt x\)</span>ã€‚</p><blockquote><p><span class="math inline">\(\mathcal{Proof:\;\;} a \bmod b = a - b\times \lfloor \dfrac{a}{b} \rfloor \Rightarrow \dfrac{a}{b + 1} =\lfloor \dfrac{a}{b} \rfloor \Rightarrow a = k (b + 1)\)</span></p><p><span class="math inline">\(k = a \bmod b \lt b \Rightarrow k^2 \lt k(b + 1) = a \le x \Rightarrow k \le \sqrt x \quad\quad\blacksquare\)</span></p></blockquote><p>äºæ˜¯å¯¹äºå›ºå®šçš„ <spanclass="math inline">\(k\)</span>ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—æ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„ <spanclass="math inline">\(b\)</span> çš„ä¸ªæ•°ï¼š</p><ol type="1"><li><span class="math inline">\(b \gt k\)</span></li><li><span class="math inline">\(1 \le b \le y\)</span></li><li><span class="math inline">\(1 \le k(b + 1) \le x \Leftrightarrow 1\le b \le x / k - 1\)</span></li></ol><p>å› æ­¤ï¼Œç­”æ¡ˆä¸º <span class="math inline">\(\max(0, \min(y, x / k - 1) -k)\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> std<span class="token double-colon punctuation">::</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ans <span class="token operator">+=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">/</span> i<span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(\sqrt x)\)</span></p></blockquote><h1 id="d.-multiples-and-power-differences">D. Multiples and PowerDifferences</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>å…³äºçŸ©é˜µ <span class="math inline">\(\{a\}\)</span> æ„é€ åŒæ ·å¤§çš„çŸ©é˜µ<span class="math inline">\(\{b\}\)</span>ï¼Œä½¿å¾—ï¼š</p><ol type="1"><li><span class="math inline">\(a_{i, j} \mid b_{i, j}\)</span></li><li><span class="math inline">\(b_{i, j} \le 10 ^ 6\)</span></li><li>ä»»ä¸¤ç›¸é‚» <span class="math inline">\(\left| b_{i, j} - b_{x, y}\right| \le k ^ 4\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(k \ge1\)</span>ã€‚</li></ol><ul><li><span class="math inline">\(a_{i, j} \in [1, 16]\)</span>ã€‚</li></ul><h2 id="è§£ç­”-3">è§£ç­”</h2><p>æ³¨æ„åˆ° <span class="math inline">\(a_{i, j}\)</span> å¾ˆå°ï¼Œä½†ä¸¥è‹›çš„æ˜¯<span class="math inline">\(b_{i, j} \le 10 ^6\)</span>ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼Œæ°å¥½èƒ½åŒ…å« <span class="math inline">\(1\sim 16\)</span> çš„æ‰€æœ‰æ•°å­—ã€‚å®¹æ˜“æƒ³åˆ° <spanclass="math inline">\(\mathrm{lcm}\)</span>ï¼Œæˆ‘ä»¬å‘ç° <spanclass="math inline">\(\mathrm{lcm}{1..16} = 720,720\)</span>ã€‚</p><p>äºæ˜¯å°±æœ‰ä¸€ä¸ªç®€å•çš„æ„é€ æ–¹æ¡ˆäº†ï¼šäº¤å‰åˆ†å±‚æ”¾ç½®ï¼Œä¸€å±‚æ”¾ <spanclass="math inline">\(720,720\)</span>ï¼Œä¸€å±‚æ”¾ <spanclass="math inline">\(720,720 - a_{i, j}^4\)</span> å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">auto</span> X <span class="token operator">=</span> <span class="token number">1LL</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">16</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  X <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">lcm</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> X <span class="token operator">-</span> <span class="token number">1LL</span> <span class="token operator">*</span> x <span class="token operator">*</span> x <span class="token operator">*</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> X<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> m<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(nm)\)</span></p></blockquote><h1 id="e.-move-and-swap">E. Move and Swap</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®šæ ¹èŠ‚ç‚¹ä¸º <span class="math inline">\(1\)</span>çš„æ ‘ï¼ŒèŠ‚ç‚¹å¸¦æœ‰ç‚¹æƒï¼Œä¸”å¶å­åˆ°æ ¹çš„è·ç¦»å‡ä¸ºæ ‘é«˜ <spanclass="math inline">\(d\)</span>ã€‚</p><p>åˆå§‹åœ¨æ ¹ä¸Šæ”¾ç½®ä¸¤å¼ å¡ç‰‡ï¼Œä¸€çº¢ä¸€è“ï¼ˆåˆ†åˆ«ç§°ä¸º <spanclass="math inline">\(a_r, a_b\)</span>ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œä½ å°†è¿›è¡Œ <spanclass="math inline">\(d\)</span> æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œåˆ†ä¸‰ä¸ªå­æ­¥éª¤ï¼š</p><ol type="1"><li>å°†çº¢å¡ç§»åŠ¨è‡³å…¶æ‰€åœ¨èŠ‚ç‚¹ä»»ä¸€å­èŠ‚ç‚¹ã€‚<strong>move(1/2)</strong></li><li>å°†è“å¡ç§»åŠ¨è‡³å…¶æ‰€åœ¨èŠ‚ç‚¹ä¸‹ä¸€å±‚çš„ä»»ä¸€èŠ‚ç‚¹ã€‚<strong>move(2/2)</strong></li><li>ï¼ˆå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼‰äº¤æ¢ä¸¤å¼ å¡ç‰‡ã€‚<strong>swap</strong></li></ol><p>è¿™æ ·ä½ å¯å¾—åˆ° <span class="math inline">\(\left|a_r - a_b\right|\)</span> åˆ†ã€‚</p><p>é—®æœ€å¤šèƒ½å¾—åˆ°å¤šå°‘åˆ†ï¼Ÿ</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>è®¾ <span class="math inline">\(dp_i\)</span>ä¸ºæ‰§è¡Œæ“ä½œä¹‹åï¼Œå½“å‰ä½äºèŠ‚ç‚¹ <span class="math inline">\(i\)</span>æ‰€æ”¶è·çš„çš„æœ€å¤§å€¼ã€‚ç”±äºç¬¬ä¸‰æ­¥æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥å…ˆåˆ†å¼€è®¨è®ºï¼š</p><ol type="1"><li>ä¸æ‰§è¡Œç¬¬ä¸‰æ­¥ï¼š<span class="math inline">\(dp_i = dp_j + \max(\left|a_i - a_b\right|)\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(a_b\)</span>ä¸ºè“å¡æ‰€åœ¨èŠ‚ç‚¹çš„ç‚¹æƒã€‚ç”¨è¿™ä¸€å±‚çš„ä¿©æœ€å€¼æ¥è½¬ç§»ä¸€å®šæœ€ä¼˜ï¼Œäºæ˜¯å»æ‰ç»å¯¹å€¼å°±å¯ä»¥æ”¹å†™æˆ<span class="math inline">\(dp_i = dp_{p[i]} + \max(a_i - \min, \max -a_i)\)</span></li><li>æ‰§è¡Œç¬¬ä¸‰æ­¥ï¼šå‡è®¾æ¢ä½ä¹‹å‰çº¢å¡ä½äº <spanclass="math inline">\(j\)</span>ï¼Œåˆ™æœ‰ï¼š <spanclass="math inline">\(dp_i = \max(dp_i, dp_{p[j]} + \left| a_i - a_j\right|)\)</span>ã€‚å’Œä¸Šé¢ç±»ä¼¼åœ°ï¼Œ<span class="math inline">\(dp_i =\max(dp_{p[j]} + a_j - a_i, dp_{p[j]} - a_j +a_i)\)</span>ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å¾—åˆ° <spanclass="math inline">\(dp_{p[j]} \pm a_j\)</span> çš„æœ€å€¼ã€‚</li></ol><p>è¿™é¢˜çš„è¾“å…¥æ¯”è¾ƒé˜´é—´ï¼Œé¦–å…ˆå»ºå‡ºå›¾ä¹‹åç”¨ <code>dfs</code>å¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä»¥åŠå…¶æ·±åº¦ï¼Œå†æŠŠæ·±åº¦ç›¸åŒçš„èŠ‚ç‚¹å­˜åˆ°ä¸€èµ·ã€‚ä¸”æ³¨æ„åˆ°æ— è®ºä½•ç§æƒ…å†µï¼Œéƒ½éœ€è¦å…ˆçŸ¥é“<span class="math inline">\(p_i\)</span> çš„æƒ…å†µï¼Œä¸å¦¨ç›´æ¥ä»å¶å­å¼€å§‹<code>dp</code>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">d</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">auto</span> g <span class="token operator">=</span> <span class="token generic-function"><span class="token function">multivector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> u<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> u<span class="token punctuation">;</span>    u <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>    g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dep</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">y_combinator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> dfs<span class="token punctuation">,</span> <span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>v <span class="token operator">:</span> g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> p<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        dep<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> dep<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        p<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> depth <span class="token operator">=</span> <span class="token operator">*</span>std<span class="token double-colon punctuation">::</span><span class="token function">max_element</span><span class="token punctuation">(</span>dep<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dep<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">auto</span> G <span class="token operator">=</span> <span class="token generic-function"><span class="token function">multivector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    G<span class="token punctuation">[</span>dep<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>i64<span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> depth<span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">inf</span> <span class="token expression"><span class="token number">1E18</span></span></span>    i64 m <span class="token operator">=</span> inf<span class="token punctuation">,</span> M <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>    <span class="token keyword">int</span> rm <span class="token operator">=</span> <span class="token number">1E9</span><span class="token punctuation">,</span> rM <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1E9</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>u <span class="token operator">:</span> G<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      rm <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>rm<span class="token punctuation">,</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      rM <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>rM<span class="token punctuation">,</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>v <span class="token operator">:</span> g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> p<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          m <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">-</span> dp<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          M <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    m <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">min</span><span class="token generic class-name"><span class="token operator">&lt;</span>i64<span class="token operator">></span></span></span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> rm<span class="token punctuation">)</span><span class="token punctuation">;</span>    M <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">max</span><span class="token generic class-name"><span class="token operator">&lt;</span>i64<span class="token operator">></span></span></span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> rM<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>u <span class="token operator">:</span> G<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      dp<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">-</span> m<span class="token punctuation">,</span> M <span class="token operator">-</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>v <span class="token operator">:</span> g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">!=</span> p<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">auto</span> ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">-</span> rm<span class="token punctuation">,</span> rM <span class="token operator">-</span> d<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          dp<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> dp<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="f.-copy-or-prefix-sum">F. Copy or Prefix Sum</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>ç»™å®šåºåˆ— <span class="math inline">\(\{B\}\)</span>ï¼Œå…³äºä¹‹å®šä¹‰ã€Œåˆæ³•ã€ çš„åºåˆ— <span class="math inline">\(\{A\}\)</span> æ»¡è¶³ï¼š</p><ol type="1"><li><strong>Copy:</strong> <span class="math inline">\(B_i =A_i\)</span></li><li><strong>Prefix Sum</strong> <span class="math inline">\(B_i =\displaystyle\sum_{j=1}^i{\{A_j\}}\)</span></li></ol><p>è®¡ç®— <span class="math inline">\(\{A\}\)</span> çš„ä¸ªæ•°ã€‚</p><ul><li><span class="math inline">\(B_i \in [-10 ^ 9, 10 ^ 9]\)</span></li><li><span class="math inline">\(n \in [1, 2 \times 10 ^ 5]\)</span></li></ul><h2 id="è§£ç­”-5">è§£ç­”</h2><p>ç”¨ <span class="math inline">\(dp_{\{i, j\}}\)</span> è¡¨ç¤ºå‰ç¼€é•¿ä¸º<span class="math inline">\(i\)</span>ã€<spanclass="math inline">\(\{A\}\)</span> çš„å‰ç¼€å’Œä¸º <spanclass="math inline">\(j\)</span> çš„æ–¹æ¡ˆæ•°ï¼Œæ‰€æ±‚å³ <spanclass="math inline">\(\displaystyle \sum _{j = -\infty}^{\infty}dp_{\{n, j\}}\)</span>ã€‚</p><p>è€Œå¯¹äºè½¬ç§»ï¼š</p><ol type="1"><li><strong>Copy:</strong> <span class="math inline">\(dp_{\{i, j\}} =dp_{\{i - 1, j - B_i\}}\)</span></li><li><strong>Prefix Sum:</strong> <span class="math inline">\(dp_{\{i,B_i\}} = \displaystyle\sum_{j = -\infty}^{\infty} dp_{\{i - 1,j\}}\)</span></li></ol><p>ï¼ˆé¦–å…ˆæ³¨æ„åˆ°ç¬¬ä¸€ç»´å¯ä»¥ä¼˜åŒ–æ‰ï¼‰ï¼Œç¬¬äºŒç§æ“ä½œæ˜¯ç®€å•çš„ï¼Œåªéœ€è¦ç»´æŠ¤ä¸€ä¸‹å‰ç¼€å³å¯å¿«é€Ÿè½¬ç§»ï¼Œè€Œå¯¹äºç¬¬ä¸€ç§<strong>å…¨å±€ä¿®æ”¹</strong> çš„æ“ä½œå´ä¸èƒ½å¾ˆå¿«åœ°ç»´æŠ¤ã€‚</p><hr /><p>è¿™é‡Œå°±éœ€è¦å¼•å…¥ç§‘æŠ€ï¼š<strong>VeniceTechnique</strong>ï¼ˆæ°´ä½çº¿æŠ€æœ¯ï¼‰äº†ï¼åªéœ€è¦ç»´æŠ¤ä¸€ä¸ªå…¨å±€æ‡’æ ‡è®°<code>lv</code>ï¼ˆä¹Ÿç§°æ°´ä½çº¿ï¼‰å°±å¯ä»¥å¿«é€Ÿå®Œæˆï¼š</p><ol type="1"><li>å¢ <code>S.insert(lv + x)</code></li><li>åˆ  <code>S.erase(S.find(lv + x))</code></li><li>å…¨å±€åŠ  <code>lv += x</code></li><li>å¾—åˆ°æœ€å°å€¼ <code>*S.begin() - lv</code></li></ol><blockquote><p>ä¸€ä¸ªå¸¦æœ‰æ‡’æ ‡è®°çš„ <code>multiset</code> è€Œå·²ã€‚</p></blockquote><hr /><p>å¦‚æœä½¿ç”¨ <code>multiset</code> æ—¶é—´å¤æ‚åº¦å°±æ˜¯ <spanclass="math inline">\(\mathcal O(n \log n)\)</span> çš„äº†ï¼è‹¥ä½¿ç”¨<code>unordered_map</code> è¿˜å¯è¿›ä¸€æ­¥ä¼˜åŒ–ä¸º <spanclass="math inline">\(\mathcal O(n)\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">constexpr</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1E9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>unordered_map<span class="token operator">&lt;</span>i64<span class="token punctuation">,</span> i64<span class="token punctuation">,</span> custom_hash<span class="token operator">></span> dp<span class="token punctuation">;</span>  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  i64 s <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> lv <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x<span class="token punctuation">;</span>    i64 prefix <span class="token operator">=</span> s <span class="token operator">-</span> dp<span class="token punctuation">[</span>lv<span class="token punctuation">]</span><span class="token punctuation">;</span>    s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">+</span> prefix<span class="token punctuation">)</span> <span class="token operator">%</span> mod <span class="token operator">+</span> mod<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>    dp<span class="token punctuation">[</span>lv<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>lv<span class="token punctuation">]</span> <span class="token operator">+</span> prefix<span class="token punctuation">)</span> <span class="token operator">%</span> mod <span class="token operator">+</span> mod<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>    lv <span class="token operator">-=</span> x<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Venice technique </tag>
            
            <tag> dp </tag>
            
            <tag> lcm </tag>
            
            <tag> dfs </tag>
            
            <tag> Tree dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf-edu128</title>
      <link href="//cf/e128/"/>
      <url>//cf/e128/</url>
      
        <content type="html"><![CDATA[<h1 id="a.-minimums-and-maximums">A. Minimums and Maximums</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ä¸€ä¸ªåŒ…å« <span class="math inline">\(l_1 \sim r_1\)</span>ä¸ªæœ€å°å€¼ï¼Œ<span class="math inline">\(l_2 \sim r_2\)</span>ä¸ªæœ€å¤§å€¼çš„æ•°ç»„æœ€çŸ­æ˜¯å¤šå°‘ï¼Ÿ</p><h2 id="è§£ç­”">è§£ç­”</h2><p>ä»¤ <span class="math inline">\(l_1 \le l_2\)</span>ï¼Œè‹¥ <spanclass="math inline">\(l_2 \in [l_1,r_1]\)</span>ï¼Œåˆ™å¯ä»¥å…¨è®¾ç½®ä¸ºä¸€ç§æ•°å€¼ï¼Œæ•°é‡ä¸º <spanclass="math inline">\(l_2\)</span>ã€‚å¦åˆ™ä¸º <spanclass="math inline">\(l_1 + l_2\)</span> ä¸ªæ•°ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a <span class="token operator">>></span> b <span class="token operator">>></span> c <span class="token operator">>></span> d<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">></span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">+</span> a <span class="token operator">*</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> std<span class="token double-colon punctuation">::</span><span class="token function">clamp</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(1)\)</span></p></blockquote><h1 id="b.-robots">B. Robots</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>äºŒç»´åœ°å›¾ä¸Šæœ‰ä¸€äº›æ£‹å­ï¼Œä»–ä»¬çš„ç§»åŠ¨æ­¥ä¼ä¸€è‡´ï¼Œé—®æ˜¯å¦å¯èƒ½åœ¨ä»»ä½•æ£‹å­éƒ½ä¸è¶Šç•Œæƒ…å†µä¸‹å°†æŸä¸ªæ£‹å­ç§»åŠ¨è‡³<span class="math inline">\((0, 0)\)</span>ã€‚</p><h2 id="è§£ç­”-1">è§£ç­”</h2><p>æƒ³è±¡æˆæŠŠç»ˆç‚¹ç§»åŠ¨è‡³æŸä¸ªæ£‹å­ã€‚</p><p>è¦æ±‚å³ç»ˆç‚¹çš„æ¨ªã€çºµä¸¤ç»´åŒæ—¶åˆ‡å‰²åˆ°ä¸€ä¸ªæ£‹å­ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">static</span> <span class="token keyword">constexpr</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">0X3F3F3F3F</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> x <span class="token operator">=</span> inf<span class="token punctuation">,</span> y <span class="token operator">=</span> inf<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>   <span class="token keyword">auto</span> grids <span class="token operator">=</span> <span class="token generic-function"><span class="token function">multivector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> grids<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>grids<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'R'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        x <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        y <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>   std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>grids<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'R'</span> <span class="token operator">?</span> <span class="token string">"YES\n"</span> <span class="token operator">:</span> <span class="token string">"NO\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \timesm)\)</span>ã€‚</p></blockquote><blockquote><p>ç”±äºé¢˜ç›®ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªæ£‹å­ï¼Œå› è€Œè®¿é—®åˆ°çš„ç©ºé—´éƒ½æ˜¯åˆç†çš„ã€‚</p></blockquote><h1 id="c.-binary-string">C. Binary String</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>å¸Œæœ› <span class="math inline">\(\max\{\)</span> å‰©ä¸‹çš„ <spanclass="math inline">\(0\)</span>ï¼Œåˆ å»çš„ <spanclass="math inline">\(1\)</span> <span class="math inline">\(\}\)</span>å°½å¯èƒ½ <strong>å°</strong>ã€‚</p><p>ä¸ºæ­¤ï¼Œä½ å¯ä»¥ä»ä¸¤ç«¯åˆ å»ä»»æ„å¤šçš„å­—ç¬¦ï¼Œæ±‚æ­¤å€¼ã€‚</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p>ä»å¼€å¤´å’Œç»“å°¾åˆ å»ä¸€äº›å­—ç¬¦ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªå­åŒºé—´ã€‚è‹¥å›ºå®šåŒºé—´çš„ä»»ä¸€ç«¯ç‚¹ï¼Œå¦ä¸€ç«¯çš„å˜åŒ–æ˜¯å•è°ƒçš„ã€‚</p><p>åŒæŒ‡é’ˆæšä¸¾ï¼Œåœ¨ <span class="math inline">\(cnt_0 \lt cnt_1\)</span>æƒ…å†µï¼ˆä¿è¯å•è°ƒæ€§ï¼‰ä¸‹ä¸€ç›´å³ç§»å³ç«¯ç‚¹ã€‚å³ç«¯ç‚¹å³ç§»æ—¶ï¼Œ<spanclass="math inline">\(0\)</span> å¯èƒ½å˜å¤šï¼Œï¼ˆä»å³ä¾§ï¼‰åˆ å»çš„ <spanclass="math inline">\(1\)</span>å¯èƒ½å‡å°‘ï¼›è€Œå·¦ç«¯ç‚¹å³ç§»æ—¶ï¼Œï¼ˆä»å·¦ä¾§ï¼‰åˆ å»çš„ <spanclass="math inline">\(1\)</span> å¯èƒ½å¢å¤šï¼Œç•™ä¸‹çš„ <spanclass="math inline">\(0\)</span> å¯èƒ½å‡å°‘ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> o <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">count</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> a <span class="token operator">=</span> o<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> z <span class="token operator">&lt;</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      z <span class="token operator">+=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">;</span>      o <span class="token operator">-=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    a <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    z <span class="token operator">-=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    o <span class="token operator">+=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'0'</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p><p>ä¸¤è€…è‡³å¤šä¹Ÿåªä¼šå„è‡ªéå†ä¸€æ¬¡æ•°ç»„ï¼Œå› è€Œä¸ºçº¿æ€§æ—¶é—´ã€‚</p></blockquote><h1 id="d.-dog-walking">D. Dog Walking</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-3">è§£ç­”</h2><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">&lt;</span><span class="token operator">++</span><span class="token operator">></span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcalO(&lt;++&gt;)\)</span></p></blockquote><h1 id="section">&lt;++&gt;</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">&lt;</span><span class="token operator">++</span><span class="token operator">></span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcalO(&lt;++&gt;)\)</span></p></blockquote><h1 id="section-1">&lt;++&gt;</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-5">è§£ç­”</h2><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">&lt;</span><span class="token operator">++</span><span class="token operator">></span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcalO(&lt;++&gt;)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> todo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf788</title>
      <link href="//cf/788/"/>
      <url>//cf/788/</url>
      
        <content type="html"><![CDATA[<p class="note note-danger">è¿™åœºå­¦å¼Ÿä¸Šè“äº†ï¼Œå¾ˆæ˜¯ç¾¡æ…•ã€‚å¸Œæœ›è‡ªå·±èƒ½åŠ æ²¹ï¼</p><p><ahref="https://codeforces.com/contest/1670">https://codeforces.com/contest/1670</a></p><h1 id="a.-prof.-slim">A. Prof. Slim</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šä¸€äº›æ•°ï¼Œå¯å¤šæ¬¡é€‰æ‹©ä¸¤ä¸ªç¬¦å·ä¸åŒçš„æ•°å­—å¹¶äº¤æ¢ä»–ä»¬çš„ç¬¦å·ï¼Œè¿™æ ·æ“ä½œèƒ½å¦ä½¿æ•°ç»„å˜ä¸ºéä¸¥æ ¼ä¸Šå‡çš„ï¼Ÿ</p><ul><li>ä¿è¯å‡ä¸ä¸º <span class="math inline">\(0\)</span></li></ul><h2 id="è§£ç­”">è§£ç­”</h2><p>é¦–å…ˆéœ€è¦ç‰¹åˆ¤æœ¬æ¥å°±æœ‰åºã€‚</p><p>å¦åˆ™ï¼ˆå¦‚æœåŒæ—¶å­˜åœ¨æ­£è´Ÿæ•°ï¼‰æˆ‘ä»¬æ€»èƒ½å°†è´Ÿå·é›†ä¸­åœ¨å‰é¢ï¼Œæ­£å·æ”¾åœ¨åé¢ï¼Œéšååˆ¤æ–­æ˜¯å¦éä¸¥æ ¼ä¸Šå‡å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    cnt <span class="token operator">+=</span> i <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">is_sorted</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">less</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">transform</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">transform</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> cnt<span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">negate</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">is_sorted</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">less</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES\n"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"NO\n"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="b.-dorms-war">B. Dorms War</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ç»™å®šå­—ç¬¦ä¸² <span class="math inline">\(s\)</span> ä»¥åŠ <spanclass="math inline">\(k\)</span>ä¸ªç‰¹æ®Šå­—ç¬¦ã€‚å¯å¤šæ¬¡ï¼šåˆ é™¤ç‰¹æ®Šå­—ç¬¦å‰é¢çš„å­—ç¬¦, ç›´åˆ°ä¸èƒ½åˆ é™¤ä¸ºæ­¢ã€‚</p><p>é—®èƒ½æ“ä½œå¤šå°‘æ¬¡ï¼Ÿ</p><p class="note note-info">ä¸€ä¸ªä¾‹å­</p><blockquote><p><span class="math inline">\(s = ``joobeel&quot;, S = \{``o&quot;,``e&quot;\}\)</span></p><p><spanclass="math inline">\(``\color{red}{jo}\color{black}{o}\color{red}{be}\color{black}{el}&quot;\rightarrow ``\color{red}{o}\color{black}{el}&quot; \rightarrow``el&quot;\)</span></p></blockquote><h2 id="è§£ç­”-1">è§£ç­”</h2><p>ä¸èƒ½æ“ä½œï¼Œå½“ä¸”ä»…å½“ç‰¹æ®Šå­—ç¬¦æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸”æ˜¯å”¯ä¸€ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€‚</p><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè¿™ä¸ªæ“ä½œæ˜¯è´ªå¿ƒçš„ï¼Œä¸æ˜¯åˆ é™¤å‰é¢çš„æ‰€æœ‰å­—ç¬¦ï¼ˆå‰é¢æ²¡æœ‰ç‰¹æ®Šå­—ç¬¦æ—¶ï¼‰å°±æ˜¯åˆ é™¤åˆ°å‰é¢çš„ç‰¹æ®Šå­—ç¬¦ã€‚</p><p>äºæ˜¯æ•´ä¸ªæ“ä½œå°†ä¼šæ‰§è¡Œ <span class="math inline">\(\max\left\{p_{i} -p_{i - 1}\right\}\)</span> æ¬¡ï¼Œå³ç‰¹æ®Šå­—ç¬¦é—´çš„æœ€å¤§é—´éš”ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> S<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> ch<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> ch<span class="token punctuation">;</span>    S<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>r<span class="token punctuation">,</span> i<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> r <span class="token operator">-</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \logn)\)</span></p></blockquote><p>Bonus: ç›´æ¥è®°å½•æ‰€æœ‰ä½ç½®å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>bitset<span class="token operator">&lt;</span><span class="token number">26</span><span class="token operator">></span> S<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">char</span> ch<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> ch<span class="token punctuation">;</span>    S<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>r<span class="token punctuation">,</span> i<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> r <span class="token operator">-</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="c.-where-is-the-pizza">C. Where is the Pizza?</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸¤ä¸ªæ’åˆ— <span class="math inline">\(\{A\}\{B\}\)</span>ï¼Œä»¥åŠä¸€ä¸ªåºåˆ— <spanclass="math inline">\(\{D\}\)</span>ã€‚</p><p>ç”Ÿæˆä¸€ä¸ªæ’åˆ— <span class="math inline">\(\{C\}\)</span>ï¼Œæ»¡è¶³å¦‚æœ<span class="math inline">\(D_i \ne 0\)</span> ï¼Œé‚£ä¹ˆ <spanclass="math inline">\(C_i = D_i\)</span>; å¦åˆ™ <spanclass="math inline">\(C_i \in \{A_i, B_i\}\)</span>ã€‚</p><p><span class="math inline">\(\{C\}\)</span> æœ‰å¤šå°‘ç§å¯èƒ½ï¼Ÿ</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p>è¿æ¥ <span class="math inline">\(A_i \rightarrowB_i\)</span>ï¼Œå› ä¸ºæ˜¯æ’åˆ—ï¼Œæ‰€ä»¥æ€»èƒ½å½¢æˆè‹¥å¹²è”é€šå—ã€‚</p><p>æ¯ä¸€ä¸ªè”é€šå—ï¼ŒåŒæ—¶å¿…å®šä¹Ÿæ˜¯ç¯ã€‚å¯¹äºæ¯ä¸€ä¸ªç¯ï¼Œè‹¥æœ‰ä¸€ä¸ªå…ƒç´ ç¡®å®šï¼Œé‚£ä¹ˆæ•´ä¸ªç¯åœ¨<span class="math inline">\(\cal \{C\}\)</span> ä¸­ä¹Ÿæ˜¯ç¡®å®šçš„ã€‚</p><p>å¦åˆ™æ¯ä¸ªå…ƒç´ åªæœ‰ä¸¤ç§å¯èƒ½ <span class="math inline">\(A_i\mathtt{\;or\;} B_i\)</span>ã€‚æ¯ä¸ªç¯éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤ç­”æ¡ˆä¸º <spanclass="math inline">\(2 ^ {t}\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(t\)</span> ä¸ºç¯ä¸ªæ•°ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">constexpr</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1'000'000'007</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">b</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">p</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">visited</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> d<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> d<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      visited<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> visited<span class="token punctuation">[</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    p<span class="token punctuation">[</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">st</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token operator">!</span>st<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        st<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        cnt <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        flag <span class="token operator">|=</span> visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">!=</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> flag <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ans <span class="token operator">=</span> <span class="token number">2ll</span> <span class="token operator">*</span> ans <span class="token operator">%</span> mod<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><p>Bonus: å®é™…ä¸Šæ˜¯æ•°ç‚¹æ•°å¤§äº <span class="math inline">\(2\)</span>å¹¶ä¸”æ²¡æœ‰è¢«æ ‡è®°çš„è”é€šå—ï¼Œä½¿ç”¨å¹¶æŸ¥é›†å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><p><img src="/images/cf/cf788c.png" / loading="lazy"></p></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \alpha(n))\)</span></p></blockquote><p class="note note-primary">Bonus2:<a href="https://atcoder.jp/contests/abc247/tasks/abc247_f">https://atcoder.jp/contests/abc247/tasks/abc247_f</a></p><h1 id="d.-very-suspicious">D. Very Suspicious</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>åœ¨ä¸€ä¸ªæ— é™å¤§çš„ç”±å…­è¾¹å½¢çš„å¹³é¢ä¸Šç”¨ç›´çº¿ï¼ˆå¿…é¡»ä¸å…­è¾¹å½¢çš„æŸæ¡è¾¹å¹³è¡Œï¼‰åˆ†å‰²å‡ºç­‰è¾¹ä¸‰è§’å½¢,é—®è¦åˆ†å‰²å‡º<span class="math inline">\(n\)</span>ä¸ªç­‰è¾¹ä¸‰è§’å½¢è‡³å°‘éœ€è¦å¤šå°‘æ¡ç›´çº¿ã€‚</p><p><img src="/images/cf/cf788d.png" / loading="lazy"></p><h2 id="è§£ç­”-3">è§£ç­”</h2><p>è®¾ä¸‰ç§æ–¹å‘çš„çº¿åˆ†åˆ«æœ‰ <span class="math inline">\(x, y, z\)</span>æ¡ï¼Œå®¹æ˜“å‘ç°ä»–ä»¬ä¼šäº¤å‡º <span class="math inline">\((xy + yz +xz)\)</span>ä¸ªç‚¹ï¼Œè¿™äº›ç‚¹ä¸å…­è¾¹å½¢æœ¬æ¥çš„è¾¹æ„æˆä¸€ç³»åˆ—ï¼ˆæˆå¯¹å‡ºç°ï¼‰ç­‰è¾¹ä¸‰è§’å½¢ã€‚</p><p><img src="/images/cf/cf788d2.png" / loading="lazy"></p><p>æˆ‘ä»¬ç†ŸçŸ¥</p><p><span class="math display">\[2 (xy + yz + xz) \le 2 (x ^ 2 + y ^ 2 + z ^ 2) \quad (``=&quot;\mathrm{\;iff.\;} x = y = z)\]</span></p><p>ç°åœ¨æœ‰ <span class="math inline">\(x + y + z = n\)</span>, å‡åˆ†å‡º<spanclass="math inline">\(\left\langle\left\lfloor\dfrac{n}{3}\right\rfloor,\left\lfloor\dfrac{n+ 1}{3}\right\rfloor,\left\lceil\dfrac{n}{3}\right\rceil\right\rangle\)</span> å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> tt<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> tt<span class="token punctuation">;</span> tt <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> tt <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  i64 l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">100'000</span><span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    i64 mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    i64 x <span class="token operator">=</span> mid <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">2LL</span> <span class="token operator">*</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> y <span class="token operator">+</span> y <span class="token operator">*</span> z <span class="token operator">+</span> x <span class="token operator">*</span> z<span class="token punctuation">)</span> <span class="token operator">>=</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      r <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      l <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> r <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(T \logn)\)</span></p></blockquote><p class="note note-info">Bonus: <a href="http://oeis.org/A030511">http://oeis.org/A030511</a></p><details><summary>å±•å¼€</summary><p><span class="math display">\[\begin{cases}a(n) = \dfrac{2 \times (n - 1)^2}{3} &amp; if\; n \equiv 1 \pmod 3\\\\a(n) = \dfrac{2 \times n \times (n - 2)}{3} &amp; \rmotherwise.\end{cases}\]</span></p></details><h1 id="e.-hemose-on-the-tree">E. Hemose on the Tree</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®šä¸€æ£µ <span class="math inline">\(2 ^ p\)</span>ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œç»™å…¶ç‚¹ã€è¾¹æ ‡æ³¨ <span class="math inline">\([1, 2n -1]\)</span> çš„æƒï¼Œéšåé€‰æ‹©ä¸€ä¸ªæ ¹ã€‚</p><p>ä½¿å¾—æ ¹åˆ°å…¶ä»–ç‚¹ç»è¿‡çš„ç‚¹ã€è¾¹æƒä¹‹å¼‚æˆ–å’Œçš„æœ€å¤§å€¼æœ€å°ã€‚</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>æœ€é«˜ä½æ˜¯ <span class="math inline">\(p\)</span>ï¼Œæ³¨æ„åˆ°æ•´ä¸ªå€¼åŸŸå…³äº<span class="math inline">\(n\)</span> å¯¹ç§°ï¼Œä¸€ä¸ªè‡ªç„¶çš„æƒ³æ³•æ˜¯ <spanclass="math inline">\(n \mathtt{\;xor\;} t \mathtt{\;xor\;} n + t =0\)</span>ã€‚</p><p>å³ä»¥ <span class="math inline">\(n\)</span>ä¸ºæ ¹ï¼Œå…¶ä»–çš„æ•°å¯¹ç§°æ”¾ç½®åœ¨ç‚¹ä¸è¾¹ä¸Šå³å¯, è¿™æ ·å°±èƒ½ä½¿å¾—æƒé‡æˆ– <spanclass="math inline">\(0\)</span> æˆ– <spanclass="math inline">\(n\)</span>, åˆ†å±‚æ„é€ ä¹‹ã€‚</p><p>åŒæ—¶ï¼Œå› ä¸ºå…ˆç»è¿‡è¾¹ï¼Œæ‰€ä»¥è¾¹ä¸Šè¦æ”¾å¤§çš„æ•°æŠµæ¶ˆæ‰æœ€é«˜ä½ï¼Œåˆ°ä¸‹ä¸€å±‚å†åè½¬è¿‡æ¥å°±è¡Œäº†ã€‚</p><hr /><p>æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚</p><p>å– <span class="math inline">\(t \;(t \lt n)\)</span>åšæ ¹ï¼Œè¦ä½¿å¾—å¼‚æˆ–å‡ºæ¥çš„æ•°å­—ä¹Ÿæ˜¯ <span class="math inline">\(\ltn\)</span> çš„ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æ¯æ¡è¾¹ã€æ¯ä¸ªç‚¹éƒ½éœ€è¦æ˜¯ <spanclass="math inline">\(\lt n\)</span> çš„ï¼Œè¿™æ˜¾ç„¶ä¸è¡Œã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> p<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> p<span class="token punctuation">;</span>  <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">></span> <span class="token function">G</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> u <span class="token operator">>></span> v<span class="token punctuation">;</span>    u <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> v <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>    G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    G<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">b</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>  <span class="token keyword">auto</span> dfs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>self<span class="token punctuation">,</span> <span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token keyword">int</span> p<span class="token punctuation">,</span> <span class="token keyword">bool</span> v<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span><span class="token punctuation">[</span>to<span class="token punctuation">,</span> j<span class="token punctuation">]</span> <span class="token operator">:</span> G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>to <span class="token operator">!=</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>to<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>to <span class="token operator">^</span> n<span class="token punctuation">,</span> to<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>to<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>to<span class="token punctuation">,</span> to <span class="token operator">^</span> n<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token function">self</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> to<span class="token punctuation">,</span> u<span class="token punctuation">,</span> v <span class="token operator">^</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">dfs</span><span class="token punctuation">(</span>dfs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"1\n"</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">ostream_iterator</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">ostream_iterator</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cout<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n = 2 ^p)\)</span></p></blockquote><h1 id="f.-jee-you-see">* F. Jee, You See?</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>ç»™å®š <span class="math inline">\(n, l, r, z\)</span>ï¼Œé—®æœ‰å¤šå°‘é•¿åº¦ä¸º<span class="math inline">\(n\)</span> çš„åºåˆ— <spanclass="math inline">\(s\)</span> æ»¡è¶³ï¼š</p><ul><li><span class="math inline">\(\displaystyle\sum_{i = l}^r{s[i]} \in[l, r]\)</span></li><li><span class="math inline">\(\displaystyle\bigoplus_{i = l}^r{s[i]} =z\)</span></li></ul><h2 id="è§£ç­”-5">è§£ç­”</h2><p>æ•°ä½èƒŒåŒ…ï¼Œå¾…å­¦ã€‚</p><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> n<span class="token punctuation">;</span>i64 l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> z<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> l <span class="token operator">>></span> r <span class="token operator">>></span> z<span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Z<span class="token operator">></span> <span class="token function">choose</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>choose<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  choose<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> choose<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">auto</span> solve <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span>i64 r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Z<span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">59</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> d <span class="token operator">=</span> r <span class="token operator">>></span> i <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> u <span class="token operator">=</span> z <span class="token operator">>></span> i <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>Z<span class="token operator">></span> <span class="token function">g</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> j <span class="token operator">+</span> d<span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> u<span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> x <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> k <span class="token operator">-</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>        g<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> choose<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    dp <span class="token operator">=</span> g<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">accumulate</span><span class="token punctuation">(</span>dp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Z</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token function">solve</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">solve</span><span class="token punctuation">(</span>l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n ^ 2 \logn)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
            <tag> binary search </tag>
            
            <tag> todo </tag>
            
            <tag> oeis </tag>
            
            <tag> greedy </tag>
            
            <tag> dsu </tag>
            
            <tag> circle </tag>
            
            <tag> constructive </tag>
            
            <tag> bitwise </tag>
            
            <tag> digit knapsack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf787</title>
      <link href="//cf/787/"/>
      <url>//cf/787/</url>
      
        <content type="html"><![CDATA[<p><ahref="https://codeforces.com/contest/1675">https://codeforces.com/contest/1675</a></p><h1 id="a.-food-for-animals">A. Food for Animals</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®š <span class="math inline">\(a\)</span> ä¸ªç‹—ç²®ï¼Œ<spanclass="math inline">\(b\)</span> ä¸ªçŒ«ç²®ï¼Œ<spanclass="math inline">\(c\)</span> ä¸ªä»»æ„ã€‚æ˜¯å¦èƒ½å¤Ÿç»™ <spanclass="math inline">\(x\)</span> åªç‹—ã€<spanclass="math inline">\(y\)</span> åªçŒ«å„è‡ªåˆ†é…ä¸€ä¸ªï¼Ÿ</p><h2 id="è§£ç­”">è§£ç­”</h2><p>æœ€ååˆ†é…ä»»æ„çš„ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a <span class="token operator">>></span> b <span class="token operator">>></span> c <span class="token operator">>></span> x <span class="token operator">>></span> y<span class="token punctuation">;</span>  x <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>x <span class="token operator">-</span> a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  y <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>y <span class="token operator">-</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">></span> c <span class="token operator">?</span> <span class="token string">"NO\n"</span> <span class="token operator">:</span> <span class="token string">"YES\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(1)\)</span></p></blockquote><h1 id="b.-make-it-increasing">B. Make It Increasing</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ç»™å®šæ•°ç»„ï¼Œä½ å¯å¤šæ¬¡å°†æŸæ•° <strong>æ•´é™¤</strong> <spanclass="math inline">\(2\)</span>ï¼Œé—®èƒ½å¦å°†å…¶å˜ä¸ºä¸¥æ ¼å•è°ƒé€’å¢çš„åºåˆ—ï¼Ÿå¦‚æœæœ‰ï¼Œå›ç­”æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><h2 id="è§£ç­”-1">è§£ç­”</h2><blockquote><p>äº‹å®è¯æ˜ï¼Œä¸èƒ½ xjb æƒ³ç‰¹åˆ¤ï¼Œä¸ç„¶ä¼šæ­»å¾—å¾ˆæƒ¨ã€‚</p></blockquote><p>å›ºå®šæœ€åä¸€ä¸ªå€¼ä¸åŠ¨ï¼Œä»åå¾€å‰éå†å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>        ans <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \lg n)\)</span></p></blockquote><h1 id="c.-detective-task">C. Detective Task</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æˆ¿é—´é‡Œæ”¾äº†ä¸€å¹…ç”»ï¼Œä½†æ˜¯è¢«è´¼äº†ã€‚å°æ˜è¯¢é—®ä»–çš„æœ‹å‹ä»¬<strong>æ˜¯å¦çœ‹åˆ°äº†ç”»</strong>ï¼Œæœ‹å‹ä»¬å°†å›ç­” <spanclass="math inline">\(1 / 0 / ?\)</span> è¡¨ç¤ºè‚¯å®šä¸å¦ã€è®°ä¸æ¸…äº†ã€‚</p><p>æˆ¿é—´é‡ŒæŸæ—¶åˆ»ä»…æœ‰ä¸€ä¸ªäººï¼Œè¯¢é—®æ¬¡åºä¸ºç¦»å¼€æ¬¡åºã€‚é—®æœ‰å¤šå°‘äººå¯ç–‘ï¼Ÿ</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p><span class="math inline">\(0 \star 1\)</span>å‡ºç°æ—¶ï¼Œå¯ä»¥æ–­å®šä¸€å®šæœ‰äººè¯´è°ï¼Œå› æ­¤ç­”æ¡ˆä¸ºé¦–ä¸ª <spanclass="math inline">\(0\)</span> å’Œæœ€åä¸€ä¸ª <spanclass="math inline">\(1\)</span> çš„è·ç¦»ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> p1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> p0 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      p0 <span class="token operator">=</span> i<span class="token punctuation">;</span>      <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      p1 <span class="token operator">=</span> i<span class="token punctuation">;</span>      <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span>p0 <span class="token operator">-</span> p1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="d.-vertical-paths">D. Vertical Paths</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>æ±‚æœ€å°‘çš„ä¸äº¤é“¾å°†ç»™å®šçš„æ ‘å®Œå…¨è¦†ç›–ã€‚</p><h2 id="è§£ç­”-3">è§£ç­”</h2><p>æ˜¾ç„¶å¶å­ä¸ªæ•°å³ä¸ºæ‰€æ±‚ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">leaf</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      leaf<span class="token punctuation">[</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token function">count</span><span class="token punctuation">(</span>leaf<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> leaf<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">visited</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>leaf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans<span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">=</span> p<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        ans<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="e.-replace-with-the-previous-minimize">E. Replace With thePrevious, Minimize</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>å°†å‡ºç°çš„æ‰€æœ‰æŸå­—æ¯ <span class="math inline">\(x\)</span> éƒ½å˜ä¸º<span class="math inline">\(x - 1\)</span>ã€‚é—®è¿™æ ·å¯¹ <spanclass="math inline">\(s\)</span> æ“ä½œ <spanclass="math inline">\(k\)</span> æ¬¡ä¹‹åï¼Œå¾—åˆ°çš„æœ€å°å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆï¼Ÿ</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>åœ¨æ”¹å˜ <span class="math inline">\(c \rightarrow b \rightarrowa\)</span> çš„è¿‡ç¨‹ä¸­å¯ä»¥å°† <span class="math inline">\(b, c\)</span>éƒ½å˜ä¸º <spanclass="math inline">\(a\)</span>ã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦è€ƒè™‘æ€ä¹ˆæ“ä½œæŸä¸€ä¸ªè¾ƒå¤§çš„å­—ç¬¦ã€‚</p><p>éœ€è¦å­—å…¸åºæœ€å°ï¼Œå› æ­¤è€ƒè™‘ä»å·¦è‡³å³æšä¸¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº <spanclass="math inline">\(k\)</span>çš„å­—ç¬¦å°†å…¶æ”¹å°ï¼Œå°äºè¯¥å­—ç¬¦çš„å®ä½“éƒ½å¯å˜ä½œ <spanclass="math inline">\(``a&quot;\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> k <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> M <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span> <span class="token operator">></span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> l <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> k <span class="token operator">+</span> M<span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">>=</span> l <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          c <span class="token operator">=</span> l<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    M <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token char">'a'</span> <span class="token operator">+</span> M<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      i <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><p>Bonus:å°†èƒ½åŒæ—¶å˜åŒ–çš„ç‚¹è¿æ¥èµ·æ¥ï¼ŒæŸä¸ªè”é€šå—å†…çš„å­—ç¬¦éƒ½å˜ä¸ºåŒä¸€ç§å­—ç¬¦ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> k <span class="token operator">>></span> s<span class="token punctuation">;</span>  DSU <span class="token function">g</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> k <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> p <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">continue</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        g<span class="token punctuation">.</span><span class="token function">helper</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        k <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    c <span class="token operator">=</span> <span class="token char">'a'</span> <span class="token operator">+</span> g<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n\alpha(n))\)</span></p></blockquote><h1 id="f.-vlad-and-unfinished-business">F. Vlad and UnfinishedBusiness</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>æ±‚åœ¨æ ‘ä¸Šä» <span class="math inline">\(x\)</span> ç»è¿‡ç»™å®šçš„ <spanclass="math inline">\(k\)</span> ä¸ªå…³é”®ç‚¹åˆ°è¾¾ <spanclass="math inline">\(y\)</span> çš„æœ€å°æ­¥æ•°ã€‚</p><h2 id="è§£ç­”-5">è§£ç­”</h2><p>ä¸å¦¨ä»¥ <span class="math inline">\(x\)</span>ä¸ºæ ¹ï¼Œæˆ‘ä»¬ç†ŸçŸ¥æ ‘ä¸Šä¸¤ç‚¹çš„è·¯æ˜¯å”¯ä¸€çš„ï¼Œå› è€Œè¦åˆ°è¾¾å…³é”®ç‚¹çš„æœ€ä¼˜èµ°æ³•è‡ªç„¶æ˜¯éå†æŸå­æ ‘çš„æ‰€æœ‰å…³é”®ç‚¹ï¼ŒéšååŸè·¯è¿”å›ã€‚</p><p>ç‰¹æ®Šçš„ï¼Œ<span class="math inline">\(y\)</span>ä¸éœ€è¦æŠ˜è¿”ï¼Œæœ€ç»ˆå‡å»å…¶æ·±åº¦å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> k <span class="token operator">>></span> x <span class="token operator">>></span> y<span class="token punctuation">;</span>  x <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  a<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">G</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> u <span class="token operator">>></span> v<span class="token punctuation">;</span>    u <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">,</span> v <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>    G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    G<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dep</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">pre</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">auto</span> dfs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>self<span class="token punctuation">,</span> <span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>to <span class="token operator">:</span> G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>to <span class="token operator">!=</span> pre<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pre<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>      dep<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> dep<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token function">self</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token function">dfs</span><span class="token punctuation">(</span>dfs<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">visited</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>p <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      visited<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      ans <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>      p <span class="token operator">=</span> pre<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  ans <span class="token operator">-=</span> dep<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="g.-sorting-pancakes">G. Sorting Pancakes</h1><h2 id="é¢˜æ„-6">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªå’Œä¸º <span class="math inline">\(m\)</span>çš„æ•°ç»„ï¼Œå¯å¤šæ¬¡é€‰æ‹©ä¿©ç›¸é‚»å…ƒç´ ï¼Œä¸€ä¸ªåŠ ä¸€å¦ä¸€ä¸ªå‡ä¸€ã€‚</p><p>é—®æœ€å°‘æ“ä½œå¤šå°‘æ­¤ä½¿å¾—æ•°ç»„éä¸¥æ ¼é€’å‡ï¼Ÿ</p><ul><li><span class="math inline">\(m \le 250\)</span></li></ul><h2 id="è§£ç­”-6">è§£ç­”</h2><p>ç”¨ <span class="math inline">\(dp_{\{i, j, k\}}\)</span> è¡¨ç¤ºå‰ <spanclass="math inline">\(i\)</span> ä¸ªä½ç½®ã€<strong>å½“å‰å’Œ</strong> ä¸º<span class="math inline">\(j\)</span>ã€æœ€åä¸€ä¸ªæ•°æ˜¯ <spanclass="math inline">\(k\)</span> çš„æ»¡è¶³é¢˜æ„çš„ç­”æ¡ˆã€‚</p><p><span class="math display">\[dp_{\{i, j, k\}} = \min_{t \le k}dp_{\{i-1, j, t\}} + \left|\sum_{q = 1}^ {i + 1}a_q - (j + k)\right|\]</span></p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span> <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">chmin</span><span class="token punctuation">(</span>T <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> T y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> x <span class="token operator">=</span> x <span class="token operator">&lt;</span> y <span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">s</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>vector <span class="token function">dp</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token function">vector</span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0X7F7F7F7F</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">int</span> mx <span class="token operator">=</span> <span class="token number">0X7F7F7F7F</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> m<span class="token punctuation">;</span> k <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">chmin</span><span class="token punctuation">(</span>mx<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> k <span class="token operator">&lt;=</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">chmin</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> k<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> mx <span class="token operator">+</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>std<span class="token double-colon punctuation">::</span><span class="token function">min_element</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n m ^ 2)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
            <tag> dfs </tag>
            
            <tag> dsu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf786</title>
      <link href="//cf/786/"/>
      <url>//cf/786/</url>
      
        <content type="html"><![CDATA[<p><ahref="https://codeforces.com/contest/1674">https://codeforces.com/contest/1674</a></p><h1 id="a.-number-transformation">A. Number Transformation</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®š <span class="math inline">\(x, y\)</span>ã€‚è¯•ç»™å‡º <spanclass="math inline">\((a, b)\)</span> è¡¨ç¤ºé€šè¿‡å¯¹ <spanclass="math inline">\(x\)</span> ä¹˜ä»¥ <span class="math inline">\(b ^a\)</span> å°† <span class="math inline">\(x\)</span> è½¬å˜ä¸º <spanclass="math inline">\(y\)</span>ï¼Œæˆ–å›ç­”ä¸å¯èƒ½ã€‚</p><h2 id="è§£ç­”">è§£ç­”</h2><p><span class="math inline">\(x \le y \land x \mid y\)</span>æ—¶æœ‰è§£ï¼Œ<span class="math inline">\((1, \dfrac{y}{x})\)</span>æ˜¯å¯æ»¡è¶³çš„ä¸€ç»„è§£ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a <span class="token operator">>></span> b<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">%</span> a <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> b <span class="token operator">&lt;</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"0 0\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>b <span class="token operator">/</span> a<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(1)\)</span></p></blockquote><h1 id="b.-dictionary">B. Dictionary</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>ä¸¤ä¸ªä¸åŒå­—æ¯ç»„æˆçš„é›†åˆä¸­ï¼Œç»™å®šçš„ <spanclass="math inline">\(s\)</span> å±…äºç¬¬å‡ ï¼Ÿ</p><h2 id="è§£ç­”-1">è§£ç­”</h2><p>æ³¨æ„åˆ° <span class="math inline">\(26 ^ 2 - 26 =650\)</span>ï¼Œéå¸¸å°ã€‚é¢„å¤„ç†å‡ºæ¥è¿™ä¸ªé›†åˆä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> initialized <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>map<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> mp<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>initialized<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    initialized <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span> c<span class="token punctuation">;</span>          c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span> <span class="token operator">+</span> i<span class="token punctuation">;</span>          c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'a'</span> <span class="token operator">+</span> j<span class="token punctuation">;</span>          mp<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> idx <span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">></span> c<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>ch <span class="token operator">:</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> ch<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> mp<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(|\Sigma| ^ 2 + T \log|\Sigma|)\)</span></p></blockquote><hr /><p>Bonus: æ­¤é›†åˆå®ä¸º <span class="math inline">\(26\)</span>è¿›åˆ¶ã€ŒæŠ æ‰ã€æ‰€æœ‰ <span class="math inline">\(a = b\)</span>çš„ç‚¹ã€‚å› æ­¤å¯ä»¥å…³äº <span class="math inline">\(a &lt;\!\!\!\!?\;\;b\)</span> åˆ†ç±»è®¨è®ºã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">char</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> a <span class="token operator">>></span> b<span class="token punctuation">;</span>  a <span class="token operator">-=</span> <span class="token char">'a'</span><span class="token punctuation">,</span> b <span class="token operator">-=</span> <span class="token char">'a'</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token number">25</span> <span class="token operator">*</span> a <span class="token operator">+</span> b <span class="token operator">-</span> <span class="token punctuation">(</span>b <span class="token operator">></span> a<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(1)\)</span></p></blockquote><h1 id="c.-infinite-replacement">C. Infinite Replacement</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <span class="math inline">\(s, t\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(s\)</span> <strong>å…¨ä¸º</strong><code>a</code>ã€‚ä½ å¯ä»¥å¤šæ¬¡å°†æŸä¸ª <code>a</code> æ›¿æ¢ä¸º <spanclass="math inline">\(t\)</span>ï¼Œé—®æœ‰å¤šå°‘ç§å¯èƒ½çš„å­—ç¬¦ä¸²ï¼Ÿ</p><p>æˆ–å›ç­”æœ‰æ— ç©·å¤šç§ã€‚</p><h2 id="è§£ç­”-2">è§£ç­”</h2><p>å¦‚æœ <span class="math inline">\(t =``a&quot;\)</span>ï¼Œé‚£ä¹ˆæ€»æœ‰æœ€åˆçš„é‚£ä¸€ç§ã€‚å¦‚æœæ›¿æ¢ä¸Šå»çš„éƒ¨åˆ†ä¾ç„¶åŒ…å«<spanclass="math inline">\(``a&quot;\)</span>ï¼Œé‚£ä¹ˆæœ‰æ— ç©·å¤šç§å¯èƒ½ã€‚æ­£å¦‚ï¼š</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'&#123;&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>å¦åˆ™ï¼ˆ<span class="math inline">\(``a&quot; \notin t\)</span>ï¼‰,åŸä¸²ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½å¯ä»¥é€‰æ‹©æ¢æˆ–è€…ä¸æ¢ï¼Œäºæ˜¯æ–¹æ¡ˆæ•°ä¸º <spanclass="math inline">\(2 ^ n\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">,</span> t<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s <span class="token operator">>></span> t<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">count</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"1\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">1LL</span> <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(|t|)\)</span></p></blockquote><h1 id="d.-a-b-c-sort">D. A-B-C Sort</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>ç»™å®šæ•°ç»„ <span class="math inline">\(\{A\}\)</span>ï¼Œä»¥åŠä¸¤ä¸ªç©ºæ•°ç»„<span class="math inline">\(\{B\},\{C\}\)</span>ã€‚æ‰§è¡Œä¸‹é¢çš„ç®—æ³•ä¹‹åï¼Œ<spanclass="math inline">\(\{C\}\)</span> æ˜¯å¦èƒ½å˜ä¸ºå•è°ƒä¸å‡çš„åºåˆ—ï¼Ÿ</p><p><img src="/images/cf/cf786d.png" / loading="lazy"></p><details><summary>è¿™ä¸€æ®µçš„ LaTeX ä»£ç </summary><pre class="language-latex" data-language="latex"><code class="language-latex"><span class="token function selector">\def</span><span class="token function selector">\SetClass</span><span class="token punctuation">&#123;</span>article<span class="token punctuation">&#125;</span><span class="token function selector">\documentclass</span><span class="token punctuation">&#123;</span><span class="token keyword">\SetClass</span><span class="token punctuation">&#125;</span><span class="token function selector">\usepackage</span><span class="token punctuation">[</span>lined,boxed,commentsnumbered<span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token keyword">algorithm2e</span><span class="token punctuation">&#125;</span><span class="token function selector">\begin</span><span class="token punctuation">&#123;</span><span class="token keyword">document</span><span class="token punctuation">&#125;</span><span class="token function selector">\begin</span><span class="token punctuation">&#123;</span><span class="token keyword">algorithm</span><span class="token punctuation">&#125;</span><span class="token punctuation">[</span>H<span class="token punctuation">]</span>  <span class="token function selector">\SetAlgoLined</span><span class="token comment">%%  \KwData&#123; \&#123; A \&#125;&#125;</span><span class="token comment">%%  \KwResult&#123;&#125;</span>  <span class="token function selector">\While</span><span class="token punctuation">&#123;</span> <span class="token function selector">\&#123;</span>A<span class="token function selector">\&#125;</span> is not empty <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>    <span class="token function selector">\eIf</span><span class="token punctuation">&#123;</span> <span class="token function selector">\&#123;</span>B<span class="token function selector">\&#125;</span> is odd long <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>      <span class="token equation string">$p <span class="token equation-command regex">\leftarrow</span>$</span> B<span class="token punctuation">[</span>middle - 1<span class="token punctuation">]</span> or B<span class="token punctuation">[</span>middle + 1<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>      <span class="token equation string">$p <span class="token equation-command regex">\leftarrow</span>$</span> B<span class="token punctuation">[</span>middle<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    move last element of <span class="token function selector">\&#123;</span>A<span class="token function selector">\&#125;</span> to B<span class="token equation string">$_p$</span>  <span class="token punctuation">&#125;</span>  <span class="token function selector">\While</span><span class="token punctuation">&#123;</span> <span class="token function selector">\&#123;</span>B<span class="token function selector">\&#125;</span> is not empty <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>    <span class="token function selector">\eIf</span><span class="token punctuation">&#123;</span> <span class="token function selector">\&#123;</span>B<span class="token function selector">\&#125;</span> is even long <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>      <span class="token equation string">$p <span class="token equation-command regex">\leftarrow</span>$</span> B<span class="token punctuation">[</span>middle - 1<span class="token punctuation">]</span> or B<span class="token punctuation">[</span>middle + 1<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>      <span class="token equation string">$p <span class="token equation-command regex">\leftarrow</span>$</span> B<span class="token punctuation">[</span>middle<span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span>    append B<span class="token equation string">$_p$</span> to the end of <span class="token function selector">\&#123;</span>C<span class="token function selector">\&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token function selector">\caption</span><span class="token punctuation">&#123;</span>A-B-C Sort Algorithm<span class="token punctuation">&#125;</span><span class="token function selector">\end</span><span class="token punctuation">&#123;</span><span class="token keyword">algorithm</span><span class="token punctuation">&#125;</span><span class="token function selector">\end</span><span class="token punctuation">&#123;</span><span class="token keyword">document</span><span class="token punctuation">&#125;</span></code></pre></details><h2 id="è§£ç­”-3">è§£ç­”</h2><p>ä¸Šè¿°ç®—æ³•ä¸¤ä¸ªæ­¥éª¤åŸºæœ¬äº’é€†ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬<strong>åªèƒ½è°ƒæ•´ç›¸é‚»çš„å…ƒç´ </strong>ã€‚</p><p>æ¨¡æ‹Ÿå³å¯ï¼Œä½†éœ€è¦æ³¨æ„åˆ° <span class="math inline">\([1, 2, 1]\rightarrow [1, 1, 2]\)</span>ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">is_sorted</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"yes\n"</span> <span class="token operator">:</span> <span class="token string">"no\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><p>Bonus: èµ›æ—¶ä»£ç ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> b<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  b<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">is_sorted</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"YES\n"</span> <span class="token operator">:</span> <span class="token string">"NO\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></details><h1 id="e.-breaking-the-wall">E. Breaking the Wall</h1><blockquote><p>æœ¬é¢˜ Hacked æ•°é«˜è¾¾ <span class="math inline">\(1500^+\)</span>ã€‚</p></blockquote><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <spanclass="math inline">\(\{A\}\)</span>ï¼Œä½ å¯å¤šæ¬¡é€‰æ‹©å•ç‚¹ <spanclass="math inline">\(-2\)</span>ï¼Œç›¸é‚»å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰å°†ä¼š <spanclass="math inline">\(-1\)</span>ã€‚</p><p>é—®è‡³å°‘éœ€è¦æ‰“å‡»å¤šå°‘æ¬¡æ‰ä¼šå‡ºç°è‡³å°‘ä¸¤ä¸ªä½ç½® <spanclass="math inline">\(&lt; 0\)</span> ï¼Ÿ</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>æšä¸¾è¿™ä¿©å¯èƒ½çš„æƒ…å†µï¼š</p><ul><li><p>ä¸¤è€…ç›¸é‚»ï¼š<span class="math inline">\([1, 2, 1]\)</span> æˆ–è€…<span class="math inline">\([1, 3, 3, 1]\)</span> æ‰“å‡»ã€‚</p></li><li><p>éš”ç€ä¸€ä¸ªï¼š<span class="math inline">\([1, 2, 1]\)</span>æ‰“å‡»ã€‚<span class="math inline">\(a, b\; (a \le b), a +\left\lceil\dfrac{b - a}{2}\right\rceil\)</span></p></li><li><p>ç¦»å¾—å¾ˆè¿œï¼šé€‰æ‹©æœ€å°çš„ä¸¤å…ƒç´ å¤šæ¬¡å•ç‚¹æ‰“å‡»ã€‚</p></li></ul><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  <span class="token keyword">auto</span> C <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> d <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> d<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">a</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> m1 <span class="token operator">=</span> INT_MAX<span class="token punctuation">,</span> m2 <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>i <span class="token operator">:</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> i<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">tie</span><span class="token punctuation">(</span>m1<span class="token punctuation">,</span> m2<span class="token punctuation">)</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>tuple<span class="token punctuation">&#123;</span>i<span class="token punctuation">,</span> m1<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      m2 <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">C</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">C</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> A <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> B <span class="token operator">=</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token function">C</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">C</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">C</span><span class="token punctuation">(</span>A <span class="token operator">+</span> B<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> A <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> B <span class="token operator">=</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">></span> B<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> A <span class="token operator">+</span> <span class="token function">C</span><span class="token punctuation">(</span>B <span class="token operator">-</span> A<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="f.-desktop-rearrangement">F. Desktop Rearrangement</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>åœ¨äºŒç»´çŸ©é˜µä¸Šæœ‰ä¸€äº› <span class="math inline">\(``\star&quot;\)</span>ä¸ <span class="math inline">\(``\cdot&quot;\)</span>ã€‚</p><p>ç»™å‡ºå¤šç»„è¯¢é—®, å°† <span class="math inline">\((x, y)\)</span>æ ¼ç‚¹çš„ç¬¦å·åè½¬ï¼Œå³ <span class="math inline">\(``\star&quot;\leftrightarrow ``\cdot&quot;\)</span> ä¹‹åï¼Œå›ç­”å°†å½“å‰æ¡Œé¢ä¸Šçš„ <spanclass="math inline">\(``\star&quot;\)</span>ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹æ’å¸ƒæ•´é½è‡³å°‘éœ€è¦ç§»åŠ¨å¤šå°‘ä¸ª <spanclass="math inline">\(``\star&quot;\)</span> ï¼Ÿ</p><p><strong>è¿™ä¸ªä¿®æ”¹æ˜¯æ°¸ä¹…çš„</strong>ã€‚</p><h2 id="è§£ç­”-5">è§£ç­”</h2><p>æœ€å°èŠ±è´¹å°±æ˜¯ä¸åœ¨å‰ <strong>tot</strong> ä¸ªä½ç½®çš„æ˜Ÿæ˜Ÿä¸ªæ•°ã€‚</p><p>å¯¹äºæ¯æ¬¡ä¿®æ”¹ï¼Œåªä¼šå¢åŠ æˆ–è€…å‡å°‘ä¸€ä¸ªæ˜Ÿæ˜Ÿï¼Œå› æ­¤æ¯æ¬¡å›ç­”éƒ½æ˜¯ <spanclass="math inline">\(\mathcal O(1)\)</span> çš„ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> q<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m <span class="token operator">>></span> q<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">possessed</span><span class="token punctuation">(</span>n <span class="token operator">*</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">char</span> ch<span class="token punctuation">;</span>      std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> ch<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token char">'*'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>possessed<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          o <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        cnt <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        possessed<span class="token punctuation">[</span>j <span class="token operator">*</span> n <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">*</span> n <span class="token operator">+</span> i <span class="token operator">&lt;</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          o <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span> q <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>q<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x <span class="token operator">>></span> y<span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token operator">--</span> y <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token operator">--</span> x<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>possessed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        o <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      cnt <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>      possessed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>possessed<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        o <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>possessed<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        o <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      cnt <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      possessed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        o <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> cnt <span class="token operator">-</span> o <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n \times m +q)\)</span></p></blockquote><h1 id="g.-remove-directed-edges">G. Remove Directed Edges</h1><h2 id="é¢˜æ„-6">é¢˜æ„</h2><p>ç»™å®šä¸€å¼  <span class="math inline">\(\rmDAG\)</span>ï¼Œåˆ å»è‹¥å¹²è¾¹ï¼Œä½¿å¾—æ¯ä¸ªç‚¹ï¼š</p><ul><li>è‹¥åŸæœ‰å‡ºè¾¹ï¼Œåˆ™è‡³å°‘åˆ å»ä¸€æ¡ã€‚</li><li>è‹¥åŸæœ‰å…¥è¾¹ï¼Œåˆ™è‡³å°‘åˆ å»ä¸€æ¡ã€‚</li></ul><p>éšåé€‰å–å­å›¾ <spanclass="math inline">\(\{S\}\)</span>ï¼Œå…¶ä¸­çš„ä»»ä¸¤ç‚¹ä¹‹é—´å¯è¾¾ï¼ˆå•æ–¹é¢åˆ°è¾¾å³å¯ï¼‰ã€‚æ±‚<span class="math inline">\(\left|S\right|\)</span> æœ€å¤§æ˜¯å¤šå°‘ã€‚</p><h2 id="è§£ç­”-6">è§£ç­”</h2><p>åˆ å“ªäº›è¾¹ï¼Ÿé‚£äº›å…¥ã€å‡ºåº¦ä¸º <span class="math inline">\(1\)</span>çš„ç‚¹å¿…é¡»åˆ é™¤, æ‰€ä»¥å…¥ã€å‡ºåº¦åŒæ—¶ä¸º <span class="math inline">\(1\)</span>çš„ç‚¹ä¸€å®šä¸ä¼šæˆä¸ºç­”æ¡ˆã€‚</p><p>å‰©ä¸‹çš„ç‚¹ï¼Œå³ä½¿ä¸ä¸æœ€ç»ˆçš„ <span class="math inline">\(\{S\}\)</span>è”é€šä¹Ÿæ— å…³ç´§è¦, å› ä¸ºæœ€åéœ€è¦æ±‚è§£çš„å­å›¾ä¹Ÿæ˜¯ <spanclass="math inline">\(\rm DAG\)</span>ï¼Œå…¶æœ€é•¿é“¾å³ä¸ºæ‰€æ±‚, <spanclass="math inline">\(dp\)</span> ä¼šè§£å†³æ‰è¿™äº›æƒ…å†µã€‚</p><p><span class="math inline">\(dp\)</span> çš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯éå† <spanclass="math inline">\(DAG\)</span>, ä½¿ç”¨æ‹“æ‰‘æ’åºçš„ Kahn ç®—æ³•å³å¯ã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">200'007</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> e<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> deg<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> nd<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> x <span class="token operator">>></span> y<span class="token punctuation">;</span>    <span class="token operator">++</span> deg<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">++</span> deg<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">auto</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>deg<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1</span> <span class="token operator">and</span> deg<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token operator">++</span> nd<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ans <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>i <span class="token operator">:</span> v<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span> nd<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n + m)\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kahn </tag>
            
            <tag> Topo-order </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf785</title>
      <link href="//cf/785/"/>
      <url>//cf/785/</url>
      
        <content type="html"><![CDATA[<p><ahref="https://codeforces.com/contest/1673">https://codeforces.com/contest/1673</a></p><blockquote><p>é‚“è€å¸ˆè¯´ï¼Œç»™è‡ªå·±çœ‹çš„é¢˜è§£è¦å†™çš„ç®€ç»ƒä¸€äº›ã€‚è¿™æ ·å›å¤´çœ‹çš„æ—¶å€™ä¹Ÿä¼šè½»æ¾è®¸å¤šã€‚</p></blockquote><h1 id="a.-subtle-substring-subtraction">A. Subtle SubstringSubtraction</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>ç»™å®šå­—ç¬¦ä¸² <span class="math inline">\(s\)</span>, å¹¶å®šä¹‰å­—ç¬¦ä¸²çš„<strong>æƒé‡</strong> ä¸ºå…¶å­—ç¬¦é¡ºåºä¹‹å’Œã€‚å¦‚<code>w("aba") = 1 + 2 + 1</code>ã€‚</p><p>åšå¼ˆï¼Œå…ˆæ‰‹å¯å–èµ° <span class="math inline">\(s\)</span><strong>å¶æ•°é•¿åº¦</strong> çš„å­ä¸²ï¼Œå¹¶è·å¾—å…¶æƒé‡ï¼Œè€Œåè€…åˆ™å¯å–èµ°<strong>å¥‡æ•°é•¿åº¦</strong> çš„ã€‚æ— æ³•è¡ŒåŠ¨æ—¶åˆ†é«˜è€…èƒœã€‚é—®ï¼š</p><ol type="1"><li>è°èƒœï¼Ÿ</li><li>ä¸¤äººè·å¾—çš„ <strong>æƒé‡å·®</strong> æœ€å¤§ä¸ºå¤šå°‘ï¼Ÿ</li></ol><h2 id="è§£ç­”">è§£ç­”</h2><p>å¦‚æœ <span class="math inline">\(s\)</span>ä»…å«ä¸€ä¸ªå­—ç¬¦ï¼Œå…ˆæ‰‹æ— æ³•è¡ŒåŠ¨ï¼Œäºæ˜¯åæ‰‹èƒœã€‚</p><p>å¶æ•°é•¿åº¦ï¼Œå…ˆæ‰‹èƒœï¼Œå¹¶è·å¾—å…¨éƒ¨å­—ç¬¦ä¸²ã€‚</p><p>å¥‡æ•°é•¿åº¦ï¼Œå…ˆæ‰‹ä¹Ÿå¯å–å¾— <code>s[1:]</code> æˆ–è€…<code>s[:-1]</code>ï¼Œå®¹æ˜“å‘ç°å¾—åˆ†ä¸ä¼šåŠ£äºåæ‰‹ï¼Œå› è€Œå…ˆæ‰‹æ€»èƒœã€‚</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>ch <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ch <span class="token operator">-=</span> <span class="token char">'a'</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    ans <span class="token operator">+=</span> ch<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Bob "</span> <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ans <span class="token operator">-=</span> <span class="token number">2</span> <span class="token operator">*</span> std<span class="token double-colon punctuation">::</span><span class="token function">min</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Alice "</span> <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="b.-a-perfectly-balanced-string">B. A Perfectly BalancedString?</h1><h2 id="é¢˜æ„-1">é¢˜æ„</h2><p>å®šä¹‰å­—ç¬¦ä¸² â€œå¹³è¡¡â€ï¼Œå½“ä¸”ä»…å½“å…¶ä»»æ„ä¸¤å­—ç¬¦ <spanclass="math inline">\(a, b\)</span> æ»¡è¶³åœ¨ä»»æ„å­ä¸²ä¸­å‡ºç°é¢‘æ•°ç›¸å·®ä¸å¤§äº<span class="math inline">\(1\)</span>ã€‚</p><p>åˆ¤æ–­ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ â€œå¹³è¡¡â€ã€‚</p><h2 id="è§£ç­”-1">è§£ç­”</h2><blockquote><p>æ³¨æ„åˆ° <span class="math inline">\(a \star a\)</span> åŠä¸åœ¨ <spanclass="math inline">\(\star\)</span> ä¸­çš„ä¸€ä¸ªå­—ç¬¦ <spanclass="math inline">\(x\)</span> æ€»æ˜¯ä¸æ»¡è¶³æ¡ä»¶çš„ã€‚å¦‚åœ¨ <spanclass="math inline">\(``abcak&quot;\)</span> ä¸­é€‰æ‹©ä¸‰å…ƒç»„ <spanclass="math inline">\(\left \langle ``abca&quot;, ``a&quot;, ``k&quot;\right \rangle\)</span>ã€‚ å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„æƒ…å½¢ï¼Œåˆ™ä¸€å®šâ€œå¹³è¡¡â€ï¼šç»„æˆè¯¥å­—ç¬¦ä¸²çš„å­ä¸²å‡ â€œå¹³è¡¡â€ï¼Œåˆ™è¯¥ä¸²ä¹Ÿå¦‚æ­¤ã€‚ åœ¨ <spanclass="math inline">\(\mathcal O(\left|\Sigma\right| \times n)\)</span>æ£€éªŒè¿™ä¸€ç‚¹æ˜¯å®¹æ˜“çš„ï¼Œä½† â€å¹³è¡¡â€ ä¸²å…·æœ‰ä¸€ä¸ªä¼˜ç¾çš„æ€§è´¨ï¼š</p></blockquote><p>å…¶ <strong>å¿…æœ‰å¾ªç¯èŠ‚</strong> ï¼ˆæ³¨æ„ <spanclass="math inline">\(``aba&quot;\)</span> ä¹Ÿæ˜¯å¾ªç¯çš„, å³å­˜åœ¨ <spanclass="math inline">\(k\)</span> ä½¿å¾— <span class="math inline">\(s[i +k] = s[i]\)</span>, å…¶ä¸­ <span class="math inline">\(i\)</span> éå†<span class="math inline">\(1 \sim n - k\)</span>ï¼‰ã€‚</p><hr /><p>è¯æ˜ï¼š</p><p><span class="math inline">\(a \star a ?\)</span>ï¼šå¦‚æœ <spanclass="math inline">\(? \not\in \star\)</span>ï¼Œåˆ™ä¸å¹³è¡¡ã€‚</p><p>åä¹‹ <span class="math inline">\(\star\)</span> éå†æ‰€æœ‰é <spanclass="math inline">\(a\)</span> å­—ç¬¦ï¼Œ è‹¥ <spanclass="math inline">\(\star[1] \ne\; ?\)</span>ï¼Œå– <spanclass="math inline">\(\left \langle ``\star[x:]?&quot;,``\star[0]&quot;, ``?&quot; \right \rangle, \mathtt{\;where\;} \star[x]= ?\)</span> ä¹Ÿä¸å¹³è¡¡ã€‚</p><p>å› æ­¤å¿…æœ‰ <span class="math inline">\(\star[0] =\; ?\)</span>ã€‚</p><hr /><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> s<span class="token punctuation">;</span>  <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> len <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">char</span> <span class="token operator">*</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token number">200007</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span><span class="token function">strcpy</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token operator">></span> pos<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> si <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pos<span class="token punctuation">[</span>si<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      len <span class="token operator">=</span> i <span class="token operator">-</span> pos<span class="token punctuation">[</span>si<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    pos<span class="token punctuation">[</span>si<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">+</span> len <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> str<span class="token punctuation">[</span>i <span class="token operator">+</span> len<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"NO\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"YES\n"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(n)\)</span></p></blockquote><h1 id="c.-palindrome-basis">C. Palindrome Basis</h1><h2 id="é¢˜æ„-2">é¢˜æ„</h2><p>æ•´æ•°åˆ’åˆ†é—®é¢˜ï¼Œé™åˆ¶å…¶ä¸­æ¯ä¸ªæ•°éƒ½æ˜¯å›æ–‡çš„ã€‚</p><ul><li><span class="math inline">\(n \le 4 \times 10 ^ 4\)</span></li></ul><h2 id="è§£ç­”-2">è§£ç­”</h2><p>å¤„ç†å‡ºæ‰€æœ‰çš„å›æ–‡æ•°ï¼Œéšåè¿›è¡Œæ•´æ•°åˆ’åˆ†ï¼ˆå®Œå…¨èƒŒåŒ…è®¡æ•° / <ahref="https://studyingfather.com/archives/3000">äº”è¾¹å½¢æ•°</a>ï¼‰ã€‚</p><blockquote><p>è¡¨ç™½ <code>SF</code>, /qq /xin</p></blockquote><style>.rated-user {  font-family: helvetica neue, Helvetica, Arial, sans-serif;  text-decoration: none !important;  font-weight: 700;  display: inline-block;}.user-legendary {  color: red !important;}.user-legendary::first-letter {  color: #000 !important;}</style><blockquote><p>æ³¨ï¼šå…¶ä¸­ <code>Z</code> ä¸º <ahref="https://codeforces.com/profile/jiangly"><font class="rated-user user-legendary">jiangly</font></a>çš„æ•´æ•°æ¨¡æ¿ç±»ã€‚</p></blockquote><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">static</span> <span class="token keyword">bool</span> initialized <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> palind<span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">4E4</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>  <span class="token comment">// static std::array&lt;Z, N> dp&#123;&#125;; -> å¯„ï¼</span>  <span class="token keyword">static</span> Z dp<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>initialized<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    initialized <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">auto</span> s <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> std<span class="token double-colon punctuation">::</span><span class="token function">string</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        palind<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;&amp;</span>num <span class="token operator">:</span> palind<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">+</span> num <span class="token operator">&lt;=</span> N <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        dp<span class="token punctuation">[</span>i <span class="token operator">+</span> num<span class="token punctuation">]</span> <span class="token operator">+=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(O(n \times p), p\)</span>ä¸ºå›æ–‡æ•°ä¸ªæ•°ï¼Œéå¸¸å°ã€‚</p></blockquote><h1 id="d.-lost-arithmetic-progression">D. Lost ArithmeticProgression</h1><h2 id="é¢˜æ„-3">é¢˜æ„</h2><p>æœ‰ä¸¤ä¸ª <span class="math inline">\(A.P. \{A\}, \{B\}\)</span>ï¼Œç»™å‡º<span class="math inline">\(\{B\}\)</span> ä»¥åŠ <spanclass="math inline">\(\{A\} \bigcap \{B\}\)</span>ï¼Œé—® <spanclass="math inline">\(\{A\}\)</span> æœ‰å¤šå°‘ç§å¯èƒ½ã€‚</p><p>æˆ–å›ç­”æœ‰æ— ç©·å¤šä¸ªã€‚</p><h2 id="è§£ç­”-3">è§£ç­”</h2><p>é¦–å…ˆå¦‚æœ <span class="math inline">\(B_0 \gt C_0\)</span> æˆ–è€… <spanclass="math inline">\(B_{-1} \lt C_{-1}\)</span> æ˜¯ä¸å¯ä»¥çš„ï¼Œæ­¤æ—¶ <spanclass="math inline">\(\{C\}\)</span> ä¸åˆæ³•ã€‚</p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¦‚æœ <span class="math inline">\(d_B \nmid C_0 -B_0\)</span> ä¹Ÿä¸è¡Œï¼ˆå³ <span class="math inline">\(\{B\} \bigcap \{C\}= \varnothing\)</span>ï¼‰ã€‚</p><hr /><p>è®¾ <span class="math inline">\(\{A\} = a + c \times \Z, \{B\} = b + d\times \Z\)</span>, å¦‚ä½•æ±‚å…¶äº¤ï¼Ÿä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p><span class="math display">\[\begin{cases}N = 5 n + 3 \\N = 7 n - 2\end{cases} \Rightarrow\begin{cases}N \equiv 3 \pmod 5 \\N \equiv 5 \pmod 7\end{cases} \Rightarrow_{\gcd(5, 7) = 1}N \equiv 33 \pmod {35}\]</span></p><p>æ³¨æ„åˆ°ç¬¬äºŒéƒ¨åˆ†æœ‰å”¯ä¸€è§£å½“ä¸”ä»…å½“ <span class="math inline">\(\gcd(c, d)\mid \small | a - b \small |\)</span> (è£´èœ€å®šç†)ã€‚</p><p>ç”±ä¸­å›½å‰©ä½™å®šç†ï¼ˆæˆ–æ‹“æ¬§ï¼‰å¯å¾—ï¼Œ<spanclass="math inline">\(\dfrac{cd}{\gcd(c, d)} = \mathrm{lcm}(c,d)\)</span> ä¸ºè§£çš„æ¨¡æ•°ï¼Œå³å…¬å·®ã€‚</p><p>äºæ˜¯æˆ‘ä»¬æ‰¾åˆ°äº†å¦ä¸€ç»„ä¸åˆæ³•çš„æƒ…å†µï¼š<span class="math inline">\(d_B\nmid d_C\)</span>ã€‚</p><hr /><p>å¦‚æœ <span class="math inline">\(\{C\}\)</span> çš„é¦–é¡¹çš„å‰ä¸€é¡¹ <spanclass="math inline">\(C_0 - d_C \lt B_0\)</span>ï¼Œæˆ–è€…æœ€åä¸€é¡¹ <spanclass="math inline">\(C_{-1} + d_C \gt B_{-1}\)</span> æ—¶ï¼Œ<spanclass="math inline">\(\{A\}\)</span> å¯ä»¥æ— é™å·¦å³æ‹“å±•ã€‚</p><p>å¦åˆ™æœ‰é™ç»„è§£ï¼Œç»™å®šäº† <span class="math inline">\(\{A\} \bigcap\{B\}\)</span>ï¼Œäºæ˜¯ä»å€æ•°è½¬æ¢æˆäº†çº¦æ•°ã€‚</p><p>å¯¹äº <span class="math inline">\(d_C\)</span>çš„çº¦æ•°ï¼Œæ–¹æ¡ˆå·¦å³ç‹¬ç«‹ï¼Œæ ¹æ®ä¹˜æ³•åŸç†è®¡ç®—ï¼š</p><p><span class="math display">\[\sum_{\mathrm{lcm}(p, d_B) = d_C}\left( \dfrac{d_C}{p}\right)^2\]</span></p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  i64 b<span class="token punctuation">,</span> q<span class="token punctuation">,</span> y<span class="token punctuation">,</span> c<span class="token punctuation">,</span> r<span class="token punctuation">,</span> z<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> b <span class="token operator">>></span> q <span class="token operator">>></span> y <span class="token operator">>></span> c <span class="token operator">>></span> r <span class="token operator">>></span> z<span class="token punctuation">;</span>  i64 lb <span class="token operator">=</span> c <span class="token operator">+</span> <span class="token punctuation">(</span>z <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> r<span class="token punctuation">,</span> lc <span class="token operator">=</span> b <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> q<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">%</span> q <span class="token operator">||</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">%</span> q <span class="token operator">||</span> c <span class="token operator">&lt;</span> b <span class="token operator">||</span> lb <span class="token operator">></span> lc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"0\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> r <span class="token operator">&lt;</span> b <span class="token operator">||</span> lb <span class="token operator">+</span> r <span class="token operator">></span> lc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1\n"</span><span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  Z ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span>i64 i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">lcm</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> q<span class="token punctuation">)</span> <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ans <span class="token operator">+=</span> r <span class="token operator">/</span> i <span class="token operator">*</span> r <span class="token operator">/</span> i<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> i <span class="token operator">!=</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        i64 t <span class="token operator">=</span> r <span class="token operator">/</span> i<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">lcm</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> q<span class="token punctuation">)</span> <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          ans <span class="token operator">+=</span> r <span class="token operator">/</span> t <span class="token operator">*</span> r <span class="token operator">/</span> t<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(\mathcal O(\sqrt n \lgn)\)</span></p></blockquote><h1 id="e.-power-or-xor">* E. Power or XOR?</h1><h2 id="é¢˜æ„-4">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-4">è§£ç­”</h2><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">using</span> LL <span class="token operator">=</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">;</span><span class="token keyword">constexpr</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1'000'000'007</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">+=</span> y<span class="token punctuation">)</span> <span class="token operator">>=</span> mod<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    x <span class="token operator">-=</span> mod<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>  cin <span class="token operator">>></span> n <span class="token operator">>></span> k<span class="token punctuation">;</span>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">B</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>Bi <span class="token operator">:</span> B<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    cin <span class="token operator">>></span> Bi<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ans</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  map<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> F<span class="token punctuation">;</span>  <span class="token keyword">auto</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>F<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>n<span class="token punctuation">,</span> k<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> F<span class="token punctuation">[</span><span class="token punctuation">&#123;</span>n<span class="token punctuation">,</span> k<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">int</span> <span class="token operator">&amp;</span>res <span class="token operator">=</span> F<span class="token punctuation">[</span><span class="token punctuation">&#123;</span>n<span class="token punctuation">,</span> k<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      res <span class="token operator">^=</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> i<span class="token punctuation">)</span> <span class="token operator">==</span> i<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> res<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i <span class="token operator">+</span> <span class="token number">20</span> <span class="token operator">and</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      LL x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> j<span class="token punctuation">;</span> k <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        x <span class="token operator">+=</span> B<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">>=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      x <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> x<span class="token punctuation">;</span>      x <span class="token operator">*=</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">>=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>      <span class="token keyword">int</span> s <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">!=</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">-</span> s<span class="token punctuation">,</span> k <span class="token operator">-</span> s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ans<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> one <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      one <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>one<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">not</span> one<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(&lt;++&gt;\)</span></p></blockquote><h1 id="f.-anti-theft-road-planning">* F. Anti-Theft Road Planning</h1><h2 id="é¢˜æ„-5">é¢˜æ„</h2><p>&lt;++&gt;</p><h2 id="è§£ç­”-5">è§£ç­”</h2><p>&lt;++&gt;</p><details><summary>å±•å¼€ä»£ç </summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> G<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">key</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  x <span class="token operator">=</span> G<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>  y <span class="token operator">=</span> G<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    t <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">>></span> i <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>y <span class="token operator">>></span> i <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  G<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> <span class="token number">32</span><span class="token punctuation">;</span> k <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      G<span class="token punctuation">[</span>k <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>k <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> G<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>  <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token function">key</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token function">key</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token function">key</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token function">key</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">key</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> v<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    x <span class="token operator">^=</span> v<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">key</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">==</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">fflush</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><blockquote><p>å¤æ‚åº¦ï¼š <span class="math inline">\(&lt;++&gt;\)</span></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dp </tag>
            
            <tag> todo </tag>
            
            <tag> period </tag>
            
            <tag> Pentagonal number </tag>
            
            <tag> knapsack problem counting </tag>
            
            <tag> Number Thoery </tag>
            
            <tag> crt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test-md-format</title>
      <link href="//blog/test-md-format/"/>
      <url>//blog/test-md-format/</url>
      
        <content type="html"><![CDATA[<h1 id="formula">formula</h1><div class="info"><blockquote><p>This is a test for <span class="math inline">\(\LaTeX\)</span> andother formats.</p></blockquote></div><p><span class="math display">\[f(x) = x ^ 2\]</span></p><p><span class="math display">\[\mathrm{ABCDEabcde1234}\\\mathit{ABCDEabcde1234}\\\mathbf{ABCDEabcde1234}\\\mathsf{ABCDEabcde1234}\\\mathtt{ABCDEabcde1234}\\\mathcal{ABCDEFGHIJK}\\\mathscr{ABCDEFGHIJK}\\\mathfrak{ABCDEFGHIJK}\\\mathbb{ABCDEFGHIJK}\\\]</span></p><p><span class="math display">\[\large P = \frac{\displaystyle{\sum_{i=1}^n (x_i- x)(y_i- y)}}{\displaystyle{\left[\sum_{i=1}^n(x_i-x)^2\sum_{i=1}^n(y_i- y)^2\right]^{1/2}}}\\\]</span></p><p><span class="math display">\[\color{black}{é»‘è‰²},\color{red}{çº¢è‰²},\color{green}{ç»¿è‰²},\color{brown}{æ£•è‰²},\color{pink}{ç²‰è‰²}\\\color{white}{ç™½è‰²},\color{blue}{è“è‰²},\color{red}{çº¢è‰²},\color{yellow}{é»„è‰²},\color{gray}{ç°è‰²}\\\color{orange}{æ©˜è‰²},\color{teal}{é›é’},\color{darkgray}{æ·±ç°},\color{olive}{æ©„æ¦„},\color{violet}{ç´«ç½—å…°}\\\color{lime}{é’æŸ },\color{lightgray}{æ·¡ç°},\color{cyan}{é’è‰²},\color{magenta}{å“çº¢},\color{purple}{ç´«è‰²},\color{silver}{é“¶è‰²}\]</span></p><blockquote><p>é¢œè‰²æµ‹è¯•å¤±è´¥</p></blockquote><p><span class="math display">\[\large \underset{j=1}{\overset{\infty}{\LARGE \mathrm K}}\frac{a_j}{b_j}=\cfrac{a_1}{b_1+\cfrac{a_2}{b_2+\cfrac{a_3}{b_3+\cfrac{a_4}{b_4+\ddots}}}}\\\]</span></p><p><span class="math display">\[\large\cfrac{a_{1}}{b_{1}+\cfrac{a_{2}}{b_{2}+\cfrac{a_{3}}{b_{3}+\ddots }}}={\genfrac{}{}{}{}{a_1}{b_1}}  {\genfrac{}{}{0pt}{}{}{+}}   {\genfrac{}{}{}{}{a_2}{b_2}}   {\genfrac{}{}{0pt}{}{}{+}}   {\genfrac{}{}{}{}{a_3}{b_3}}   {\genfrac{}{}{0pt}{}{}{+\dots}}\\\]</span></p><h1 id="tags">tags</h1><div class="primary"><p>primary</p></div><div class="secondary"><blockquote><p>secondary</p></blockquote></div><div class="success"><blockquote><p>success</p></blockquote></div><div class="danger"><blockquote><p>danger</p></blockquote></div><div class="warning"><blockquote><p>warning</p></blockquote></div><div class="info"><blockquote><p>info</p></blockquote></div><div class="gray"><blockquote><p>gray</p></blockquote></div><div class="yellow"><blockquote><p>yellow</p></blockquote></div><h1 id="code">code</h1><pre class="language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">float64</span><span class="token punctuation">)</span>  ch <span class="token operator">&lt;-</span> <span class="token number">1.0e10</span>    <span class="token comment">// magic number</span>  x<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span> ch  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`exitting now\`</span><span class="token punctuation">)</span>  <span class="token keyword">go</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token keyword">return</span><span class="token punctuation">&#125;</span></code></pre><details><summary>C++ â€”â€” The best language!</summary><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> i64 <span class="token operator">=</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">;</span> <span class="token comment">// &lt;+></span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> tt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> tt<span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>tt <span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre></details><h1 id="source-code">source code</h1><pre class="language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: test-md-formatpermalink: /blog/test-md-format/categories: testtags: testtoc: truemath: truedate: 2022-05-01 22:18:19updated: 2022-05-25 07:21:50</span><span class="token punctuation">---</span></span><span class="token title important"><span class="token punctuation">#</span> formula</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> This is a test for $\LaTeX$ and other formats.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>$$f(x) = x ^ 2$$$$\mathrm&#123;ABCDEabcde1234&#125;\\\mathit&#123;ABCDEabcde1234&#125;\\\mathbf&#123;ABCDEabcde1234&#125;\\\mathsf&#123;ABCDEabcde1234&#125;\\\mathtt&#123;ABCDEabcde1234&#125;\\\mathcal&#123;ABCDEFGHIJK&#125;\\\mathscr&#123;ABCDEFGHIJK&#125;\\\mathfrak&#123;ABCDEFGHIJK&#125;\\\mathbb&#123;ABCDEFGHIJK&#125;\\$$$$\large P = \frac&#123;\displaystyle&#123;\sum_&#123;i=1&#125;^n (x_i- x)(y_i- y)&#125;&#125;&#123;\displaystyle&#123;\left[\sum_&#123;i=1&#125;^n(x_i-x)^2\sum_&#123;i=1&#125;^n(y_i- y)^2\right]^&#123;1/2&#125;&#125;&#125;\\$$$$\color&#123;black&#125;&#123;é»‘è‰²&#125;,\color&#123;red&#125;&#123;çº¢è‰²&#125;,\color&#123;green&#125;&#123;ç»¿è‰²&#125;,\color&#123;brown&#125;&#123;æ£•è‰²&#125;,\color&#123;pink&#125;&#123;ç²‰è‰²&#125;\\\color&#123;white&#125;&#123;ç™½è‰²&#125;,\color&#123;blue&#125;&#123;è“è‰²&#125;,\color&#123;red&#125;&#123;çº¢è‰²&#125;,\color&#123;yellow&#125;&#123;é»„è‰²&#125;,\color&#123;gray&#125;&#123;ç°è‰²&#125;\\\color&#123;orange&#125;&#123;æ©˜è‰²&#125;,\color&#123;teal&#125;&#123;é›é’&#125;,\color&#123;darkgray&#125;&#123;æ·±ç°&#125;,\color&#123;olive&#125;&#123;æ©„æ¦„&#125;,\color&#123;violet&#125;&#123;ç´«ç½—å…°&#125;\\\color&#123;lime&#125;&#123;é’æŸ &#125;,\color&#123;lightgray&#125;&#123;æ·¡ç°&#125;,\color&#123;cyan&#125;&#123;é’è‰²&#125;,\color&#123;magenta&#125;&#123;å“çº¢&#125;,\color&#123;purple&#125;&#123;ç´«è‰²&#125;,\color&#123;silver&#125;&#123;é“¶è‰²&#125;$$<span class="token blockquote punctuation">></span> é¢œè‰²æµ‹è¯•å¤±è´¥$$\large \underset&#123;j=1&#125;&#123;\overset&#123;\infty&#125;&#123;\LARGE \mathrm K&#125;&#125;\frac&#123;a_j&#125;&#123;b_j&#125;=\cfrac&#123;a_1&#125;&#123;b_1+\cfrac&#123;a_2&#125;&#123;b_2+\cfrac&#123;a_3&#125;&#123;b_3+\cfrac&#123;a_4&#125;&#123;b_4+\ddots&#125;&#125;&#125;&#125;\\$$$$\large\cfrac&#123;a_&#123;1&#125;&#125;&#123;b_&#123;1&#125;+\cfrac&#123;a_&#123;2&#125;&#125;&#123;b_&#123;2&#125;+\cfrac&#123;a_&#123;3&#125;&#125;&#123;b_&#123;3&#125;+\ddots &#125;&#125;&#125;=&#123;\genfrac&#123;&#125;&#123;&#125;&#123;&#125;&#123;&#125;&#123;a_1&#125;&#123;b_1&#125;&#125;  &#123;\genfrac&#123;&#125;&#123;&#125;&#123;0pt&#125;&#123;&#125;&#123;&#125;&#123;+&#125;&#125;   &#123;\genfrac&#123;&#125;&#123;&#125;&#123;&#125;&#123;&#125;&#123;a_2&#125;&#123;b_2&#125;&#125;   &#123;\genfrac&#123;&#125;&#123;&#125;&#123;0pt&#125;&#123;&#125;&#123;&#125;&#123;+&#125;&#125;   &#123;\genfrac&#123;&#125;&#123;&#125;&#123;&#125;&#123;&#125;&#123;a_3&#125;&#123;b_3&#125;&#125;   &#123;\genfrac&#123;&#125;&#123;&#125;&#123;0pt&#125;&#123;&#125;&#123;&#125;&#123;+\dots&#125;&#125;\\$$<span class="token title important"><span class="token punctuation">#</span> tags</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>primary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>secondary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> secondary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>danger<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> danger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token blockquote punctuation">></span> warning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token blockquote punctuation">></span> info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gray<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> gray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token blockquote punctuation">></span> yellow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token title important"><span class="token punctuation">#</span> code</span><span class="token code"><span class="token punctuation">```</span><span class="token code-language">go</span><span class="token code-block language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"fmt"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">float64</span><span class="token punctuation">)</span>  ch <span class="token operator">&lt;-</span> <span class="token number">1.0e10</span>    <span class="token comment">// magic number</span>  x<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span> ch  <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`exitting now\`</span><span class="token punctuation">)</span>  <span class="token keyword">go</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token keyword">return</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">```</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>details</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>summary</span><span class="token punctuation">></span></span> C++ â€”â€” The best language! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>summary</span><span class="token punctuation">></span></span><span class="token code"><span class="token punctuation">```</span><span class="token code-language">cpp</span><span class="token code-block language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> i64 <span class="token operator">=</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">;</span> <span class="token comment">// &lt;+></span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">int</span> n<span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> n<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" \n"</span><span class="token punctuation">[</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> tt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  std<span class="token double-colon punctuation">::</span>cin <span class="token operator">>></span> tt<span class="token punctuation">;</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span>tt <span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">^</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">```</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>details</span><span class="token punctuation">></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> test </category>
          
      </categories>
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cf773</title>
      <link href="//cf/773/"/>
      <url>//cf/773/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="å¯†ç é”™è¯¯ï¼ä½ æƒ³çœ‹å•¥å•Šï¼ŸğŸ˜…" data-whm="Oh, these decrypted content cannot be verified, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="53a9409be6f05b1e7f20c235910a57705c73eeae09bc798e49ba34d3f5d1889a">2a8bb1d28c7f1269950a2b2147fcb6930080146db42b8326a04a2d133287df2fd4870f3be6d2b1c0f3bba6408de9868966803e9bc58901a425c9f8f4d41eeb867584cfe214254f69acd8fdcf1eaf700ec5a659ff7a6d841d9fc3b8854e6f8be2af84afdda78b88e12b12a1f16321ff87d04ca7d37bb437c23970b86d6ba91eda82fc5dadc88416f279476516bb4915c09bb4ee45110c8304c69f350e90e77392</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¯·è¾“å…¥å¯†ç æŸ¥çœ‹ ğŸ»ã€‚</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> cf </category>
          
      </categories>
      
      
        <tags>
            
            <tag> todo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
